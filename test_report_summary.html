<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>自动化测试聚合报告</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.3.2/dist/echarts.min.js"></script>
    <style>
        :root {
            --primary-bg: #f8f9fa;
            --card-bg: #ffffff;
            --text-main: #2c3e50;
        }
        body { background-color: var(--primary-bg); color: var(--text-main); font-family: 'Segoe UI', Roboto, Arial, sans-serif; }
        .dashboard-header { background: #fff; padding: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.05); margin-bottom: 30px; }
        .stat-card { border: none; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.05); transition: transform 0.2s; }
        .stat-card:hover { transform: translateY(-5px); }
        .stat-icon { font-size: 2.5rem; opacity: 0.8; }
        .module-card { border: none; border-radius: 10px; margin-bottom: 15px; box-shadow: 0 2px 4px rgba(0,0,0,0.02); }
        .pass-badge { background-color: #e6f9ee; color: #00b894; padding: 5px 10px; border-radius: 20px; font-weight: 600; }
        .fail-badge { background-color: #fff0f0; color: #d63031; padding: 5px 10px; border-radius: 20px; font-weight: 600; }
        .warn-badge { background-color: #fffce6; color: #fdcb6e; padding: 5px 10px; border-radius: 20px; font-weight: 600; }
        .table th { font-weight: 600; color: #636e72; }
        .log-preview { background: #2d3436; color: #dfe6e9; padding: 10px; border-radius: 6px; font-size: 0.85rem; max-height: 200px; overflow-y: auto; display: none; }
        .chart-container { background: #fff; border-radius: 12px; padding: 20px; box-shadow: 0 4px 6px rgba(0,0,0,0.05); height: 400px; }
        .key-log-line { color: #ff7675; font-weight: bold; }
    </style>
</head>
<body>

    <!-- 顶部导航 -->
    <div class="dashboard-header">
        <div class="container-fluid d-flex justify-content-between align-items-center">
            <h3 class="mb-0"><i class="bi bi-speedometer2 text-primary me-2"></i>自动化测试聚合报告</h3>
            <div class="text-muted">
                生成时间: 2025-12-04 21:57:24
            </div>
        </div>
    </div>

    <div class="container-fluid px-4">
        <!-- 统计卡片 -->
        <div class="row g-4 mb-4">
            <div class="col-md-3">
                <div class="card stat-card bg-white h-100">
                    <div class="card-body d-flex align-items-center justify-content-between">
                        <div>
                            <h6 class="text-muted mb-2">覆盖模块</h6>
                            <h2 class="mb-0 fw-bold">7</h2>
                        </div>
                        <i class="bi bi-collection text-primary stat-icon"></i>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card stat-card bg-white h-100">
                    <div class="card-body d-flex align-items-center justify-content-between">
                        <div>
                            <h6 class="text-muted mb-2">总通过率</h6>
                            <h2 class="mb-0 fw-bold text-warning">
                                91.81%
                            </h2>
                        </div>
                        <i class="bi bi-pie-chart-fill stat-icon text-warning"></i>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card stat-card bg-white h-100">
                    <div class="card-body d-flex align-items-center justify-content-between">
                        <div>
                            <h6 class="text-muted mb-2">总用例数</h6>
                            <h2 class="mb-0 fw-bold">479</h2>
                        </div>
                        <i class="bi bi-list-check text-info stat-icon"></i>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card stat-card bg-white h-100">
                    <div class="card-body d-flex align-items-center justify-content-between">
                        <div>
                            <h6 class="text-muted mb-2">需修复 (Fail/Err)</h6>
                            <h2 class="mb-0 fw-bold text-danger">39</h2>
                        </div>
                        <i class="bi bi-bug-fill text-danger stat-icon"></i>
                    </div>
                </div>
            </div>
        </div>

        <!-- 图表区 -->
        <div class="row mb-4">
            <div class="col-md-8">
                <div class="chart-container">
                    <h5 class="card-title mb-3">模块通过率趋势</h5>
                    <div id="trendChart" style="width: 100%; height: 320px;"></div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="chart-container">
                    <h5 class="card-title mb-3">失败原因分析</h5>
                    <div id="failurePieChart" style="width: 100%; height: 320px;"></div>
                </div>
            </div>
        </div>

        <!-- 详细列表 -->
        <div class="card border-0 shadow-sm mb-4">
            <div class="card-header bg-white border-bottom-0 py-3">
                <div class="d-flex justify-content-between align-items-center">
                    <h5 class="mb-0">模块详细报告</h5>
                    <input type="text" id="searchInput" class="form-control w-auto" placeholder="搜索模块...">
                </div>
            </div>
            <div class="card-body p-0">
                <div class="table-responsive">
                    <table class="table table-hover align-middle mb-0">
                        <thead class="table-light">
                            <tr>
                                <th class="ps-4">模块名称</th>
                                <th>最新运行时间</th>
                                <th class="text-center">总计</th>
                                <th class="text-center text-success">通过</th>
                                <th class="text-center text-danger">失败</th>
                                <th class="text-center text-warning">错误</th>
                                <th class="text-center">通过率</th>
                                <th>报告链接</th>
                                <th>操作</th>
                            </tr>
                        </thead>
                        <tbody id="reportTableBody">
                            <!-- JS 填充 -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- 失败详情模态框 -->
        <div class="modal fade" id="failureModal" tabindex="-1">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">失败详情分析</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body" id="modalContent">
                    </div>
                </div>
            </div>
        </div>

    </div>

    <script>
        const reportData = {"cps(uat)": {"filename": "cps%5Buat%5D_2025_11_26_09_10_45_result.html", "timestamp": "2025_11_26_09_10_45", "stats": {"total": 32, "pass": 27, "fail": 1, "error": 3, "skip": 1, "rate": "87.10%", "failure_details": [{"test_name": "test_Pickup_Manage_Cancel_01", "status": "Fail", "type": "bug", "subtype": "assertion", "description": "\u65ad\u8a00\u5931\u8d25 (\u529f\u80fd\u7f3a\u9677)", "short_log": "ft1.2.1: 2025-11-26 09:10:49 | INFO     | http.py | MainThread | \u51fd\u6570 pickup_Manage_Cancel \u8c03\u7528api_request, \u5c1d\u8bd5\u7b2c 1 \u6b21\n2025-11-26 09:10:49 | INFO     | request.py | MainThread | -------------- [\ud83d\udce4] Request -----------------\n2025-11-26 09:10:49 | INFO     | request.py | MainThread | [method]: POST      [url]: https://uat-cps.speedx.io/cps-api/pickup/manage/cancel \n2025-11-26 09:10:49 | DEBUG    | request.py | MainThread | [headers]:\n{\n  \"Content-Type\": \"application/json\",\n  \"Accept\": \"application/json\",\n  \"inner-api-key\": \"85259a49-05c5-4a76-9e1c-5f543fb37352\",\n  \"Authorization\": \"eyJhbGciOiJIUzUxMiJ9.eyJ0eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzY0MTYyNjQ4LCJ1c2VySWQiOjEsImlhdCI6MTc2NDExOTQ0OCwidXNlcm5hbWUiOiJ0ZXN0MTEifQ.AMxzPXWMp7KQZVv1FnW1bbN8Q6YicDVFvIp31R9vyNaKhd7N2thysTRle7qwIHsY39hdFdMFYqQrGVnIh0x7Rg\"\n}", "key_log_info": "2025-11-26 09:10:50 | INFO     | request.py | MainThread | successful with status 200\n2025-11-26 09:10:50 | DEBUG    | request.py | MainThread | [response]:\n2025-11-26 09:10:51 | ERROR    | spx_utils.py | MainThread | Attempt 1 failed: Operation returned False\n2025-11-26 09:10:54 | ERROR    | spx_utils.py | MainThread | Attempt 2 failed: Operation returned False\n2025-11-26 09:10:56 | ERROR    | spx_utils.py | MainThread | Attempt 3 failed: Operation returned False\n2025-11-26 09:10:58 | ERROR    | spx_utils.py | MainThread | Attempt 4 failed: Operation returned False\n2025-11-26 09:11:00 | ERROR    | spx_utils.py | MainThread | Attempt 5 failed: Operation returned False\n2025-11-26 09:11:03 | ERROR    | spx_utils.py | MainThread | Attempt 6 failed: Operation returned False\n2025-11-26 09:11:05 | ERROR    | spx_utils.py | MainThread | Attempt 7 failed: Operation returned False\n2025-11-26 09:11:08 | ERROR    | spx_utils.py | MainThread | Attempt 8 failed: Operation returned False\n2025-11-26 09:11:10 | ERROR    | spx_utils.py | MainThread | Attempt 9 failed: Operation returned False\n2025-11-26 09:11:12 | ERROR    | spx_utils.py | MainThread | Attempt 10 failed: Operation returned False\n2025-11-26 09:11:12 | ERROR    | spx_utils.py | MainThread | Operation failed after 10 attempts\nTraceback (most recent call last):\nAssertionError: True != False"}, {"test_name": "test_Pickup_Manage_create_01", "status": "Error", "type": "bug", "subtype": "logic", "description": "\u4ee3\u7801\u903b\u8f91/\u7c7b\u578b\u9519\u8bef", "short_log": "et1.3.1: 2025-11-26 09:11:15 | INFO     | http.py | MainThread | \u51fd\u6570 pickup_Manage_Create_origin \u8c03\u7528api_request, \u5c1d\u8bd5\u7b2c 1 \u6b21\n2025-11-26 09:11:15 | INFO     | request.py | MainThread | -------------- [\ud83d\udce4] Request -----------------\n2025-11-26 09:11:15 | INFO     | request.py | MainThread | [method]: POST      [url]: https://uat-cps.speedx.io/cps-api/pickup/manage/create \n2025-11-26 09:11:15 | DEBUG    | request.py | MainThread | [headers]:\n{\n  \"Content-Type\": \"application/json\",\n  \"Accept\": \"application/json\",\n  \"inner-api-key\": \"85259a49-05c5-4a76-9e1c-5f543fb37352\",\n  \"Authorization\": \"eyJhbGciOiJIUzUxMiJ9.eyJ0eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzY0MTYyNjc1LCJ1c2VySWQiOjEsImlhdCI6MTc2NDExOTQ3NSwidXNlcm5hbWUiOiJ0ZXN0MTEifQ.hHqmNkb6g-ObsbeubScRSGsVTrdoxz1_Um0sMN58KoXwR68aRAa89dhUKMB4zPgFbd3e-92q4IrfmfFDn0", "key_log_info": "2025-11-26 09:11:20 | INFO     | request.py | MainThread | successful with status 200\n2025-11-26 09:11:20 | DEBUG    | request.py | MainThread | [response]:\nTraceback (most recent call last):\nTypeError: cannot unpack non-iterable NoneType object"}, {"test_name": "test_Pickup_Manage_DownloadDetail_01", "status": "Error", "type": "environment", "subtype": "service", "description": "\u670d\u52a1\u4e0d\u53ef\u7528/50x\u9519\u8bef", "short_log": "et1.4.1: 2025-11-26 09:11:21 | INFO     | http.py | MainThread | \u51fd\u6570 pickup_Manage_DownloadDetail \u8c03\u7528api_request, \u5c1d\u8bd5\u7b2c 1 \u6b21\n2025-11-26 09:11:21 | INFO     | request.py | MainThread | -------------- [\ud83d\udce4] Request -----------------\n2025-11-26 09:11:21 | INFO     | request.py | MainThread | [method]: POST      [url]: https://uat-cps.speedx.io/cps-api/pickup/manage/downloadDetail \n2025-11-26 09:11:21 | DEBUG    | request.py | MainThread | [headers]:\n{\n  \"Content-Type\": \"application/json\",\n  \"Accept\": \"application/json\",\n  \"inner-api-key\": \"85259a49-05c5-4a76-9e1c-5f543fb37352\",\n  \"Authorization\": \"eyJhbGciOiJIUzUxMiJ9.eyJ0eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzY0MTYyNjgxLCJ1c2VySWQiOjEsImlhdCI6MTc2NDExOTQ4MSwidXNlcm5hbWUiOiJ0ZXN0MTEifQ.B5KA5m--2rh431d9vAWNcZz1oO56B5pN6vNuACsxH1miko3MyPILjUEmHn4LM_LgkwkJKA_Ii", "key_log_info": "2025-11-26 09:11:22 | WARNING  | request.py | MainThread | unsuccessful with status 500\n2025-11-26 09:11:22 | DEBUG    | request.py | MainThread | [response]:\n\"msg\": \"system exception: Failed to process, please try again or contact support.\",\n2025-11-26 09:11:22 | ERROR    | spx_utils.py | MainThread | parse_file_name\u53d1\u751f\u4e86\u9519\u8bef: 'dict' object has no attribute 'headers'\nTraceback (most recent call last):\nTypeError: argument of type 'NoneType' is not iterable"}, {"test_name": "test_Pickup_Manage_DownloadDetail_02", "status": "Error", "type": "environment", "subtype": "service", "description": "\u670d\u52a1\u4e0d\u53ef\u7528/50x\u9519\u8bef", "short_log": "et1.4.2: 2025-11-26 09:11:22 | INFO     | http.py | MainThread | \u51fd\u6570 pickup_Manage_list_origin \u8c03\u7528api_request, \u5c1d\u8bd5\u7b2c 1 \u6b21\n2025-11-26 09:11:22 | INFO     | request.py | MainThread | -------------- [\ud83d\udce4] Request -----------------\n2025-11-26 09:11:22 | INFO     | request.py | MainThread | [method]: POST      [url]: https://uat-cps.speedx.io/cps-api/pickup/manage/list \n2025-11-26 09:11:22 | DEBUG    | request.py | MainThread | [headers]:\n{\n  \"Content-Type\": \"application/json\",\n  \"Accept\": \"application/json\",\n  \"inner-api-key\": \"85259a49-05c5-4a76-9e1c-5f543fb37352\",\n  \"Authorization\": \"eyJhbGciOiJIUzUxMiJ9.eyJ0eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzY0MTYyNjgxLCJ1c2VySWQiOjEsImlhdCI6MTc2NDExOTQ4MSwidXNlcm5hbWUiOiJ0ZXN0MTEifQ.B5KA5m--2rh431d9vAWNcZz1oO56B5pN6vNuACsxH1miko3MyPILjUEmHn4LM_LgkwkJKA_IiDNJv_AwMNxILw", "key_log_info": "2025-11-26 09:11:23 | INFO     | request.py | MainThread | successful with status 200\n2025-11-26 09:11:23 | DEBUG    | request.py | MainThread | [response]:\n2025-11-26 09:11:24 | WARNING  | request.py | MainThread | unsuccessful with status 500\n2025-11-26 09:11:24 | DEBUG    | request.py | MainThread | [response]:\n\"msg\": \"system exception: Failed to process, please try again or contact support.\",\n2025-11-26 09:11:24 | ERROR    | spx_utils.py | MainThread | parse_file_name\u53d1\u751f\u4e86\u9519\u8bef: 'dict' object has no attribute 'headers'\nTraceback (most recent call last):\nTypeError: argument of type 'NoneType' is not iterable"}]}}, "dms(uat)": {"filename": "dms%5Buat%5D_2025_12_02_14_51_55_result.html", "timestamp": "2025_12_02_14_51_55", "stats": {"total": 104, "pass": 101, "fail": 1, "error": 1, "skip": 1, "rate": "98.06%", "failure_details": [{"test_name": "Test_Add_Parcel_Service)", "status": "Error", "type": "bug", "subtype": "runtime_error", "description": "\u8fd0\u884c\u65f6\u9519\u8bef (\u672a\u6355\u83b7\u5f02\u5e38)", "short_log": "et1.1.1: setUpClass/start_class error.Traceback (most recent call last):\n  File \"/var/lib/jenkins/workspace/SpeedxSeldom@2/speedxseldom/test_dir/api/dms/testcase/test_add_parcels.py\", line 34, in setUpClass\n    cls.route1, cls.route1TrkNos = routeFactory.incremental_route(1, 421)\n  File \"/var/lib/jenkins/workspace/SpeedxSeldom@2/speedxseldom/common/datafactory/route_Factory.py\", line 57, in incremental_route\n    routeName, trackingList = self.route_create(num, orgId)\n  File \"/var/lib/jenkins/workspace/SpeedxSeldom@2/speedxseldom/common/datafactory/route_Factory.py\", line 38, in route_create\n    _, trackingList = Batch_Factory().rps_create_and_fixRoute_scan_V1(apiKey, num)\n  File \"/var/lib/jenkins/workspace/SpeedxSeldom@2/speedxseldom/common/datafactory/batch_Factory.py\", line 108, in rps_c", "key_log_info": "et1.1.1: setUpClass/start_class error.Traceback (most recent call last):\nraise Exception(\"The last label status is not GEOCODED.\")\nException: The last label status is not GEOCODED."}, {"test_name": "test_commercial_drop_route_03", "status": "Fail", "type": "bug", "subtype": "assertion", "description": "\u65ad\u8a00\u5931\u8d25 (\u529f\u80fd\u7f3a\u9677)", "short_log": "ft1.6.2: 2025-12-02 14:53:55 | INFO     | test_commercial_drop_route.py | MainThread | \u5f00\u59cb\u521b\u5efacontainer\n2025-12-02 14:53:55 | INFO     | route_Factory.py | MainThread | \u5f00\u59cb\u521b\u5efabatch\n2025-12-02 14:53:55 | INFO     | batch_Factory.py | MainThread | \u5f00\u59cb\u8fdb\u884crps\u521b\u5efa\u8ba2\u5355\uff0cfixroute\u626b\u63cf\n2025-12-02 14:53:55 | INFO     | label_Factory_Prod.py | MainThread | \u5f00\u59cb\u751f\u6210\u6807\u7b7e...\n2025-12-02 14:53:55 | INFO     | http.py | MainThread | \u51fd\u6570 create_label_origin \u8c03\u7528api_request, \u5c1d\u8bd5\u7b2c 1 \u6b21\n2025-12-02 14:53:55 | INFO     | request.py | MainThread | -------------- [\ud83d\udce4] Request -----------------\n2025-12-02 14:53:55 | INFO     | request.py | MainThread | [method]: POST      [url]: https://uat.speedx.io/rps-api/label/create-label \n2025-12-02 14:53:55 | DEBUG    | request.py | MainThread | [headers]:\n{\n  \"Content-Type\": \"application/json\",\n  \"A", "key_log_info": "2025-12-02 14:53:56 | INFO     | request.py | MainThread | successful with status 200\n2025-12-02 14:53:56 | DEBUG    | request.py | MainThread | [response]:\n2025-12-02 14:53:57 | INFO     | request.py | MainThread | successful with status 200\n2025-12-02 14:53:57 | DEBUG    | request.py | MainThread | [response]:\n2025-12-02 14:53:58 | INFO     | request.py | MainThread | successful with status 200\n2025-12-02 14:53:58 | DEBUG    | request.py | MainThread | [response]:\n2025-12-02 14:53:59 | INFO     | request.py | MainThread | successful with status 200\n2025-12-02 14:53:59 | DEBUG    | request.py | MainThread | [response]:\n2025-12-02 14:53:59 | INFO     | label_details_service.py | MainThread | check_label_status_GEOCODED_lax - is_loading_pos\n\"executorRouteStrategy\": \"FAILOVER\",\n\"executorFailRetryCount\": 0,\n2025-12-02 14:54:00 | INFO     | request.py | MainThread | successful with status 200\n2025-12-02 14:54:00 | DEBUG    | request.py | MainThread | [response]:\n2025-12-02 14:54:01 | INFO     | request.py | MainThread | successful with status 200\n2025-12-02 14:54:01 | DEBUG    | request.py | MainThread | [response]:\n2025-12-02 14:54:02 | INFO     | request.py | MainThread | successful with status 200\n2025-12-02 14:54:02 | DEBUG    | request.py | MainThread | [response]:\n2025-12-02 14:54:03 | INFO     | request.py | MainThread | successful with status 200\n2025-12-02 14:54:03 | DEBUG    | request.py | MainThread | [response]:\n\"status\": \"CREATED\","}]}}, "oms(uat)": {"filename": "oms%5Buat%5D_2025_12_02_18_46_16_result.html", "timestamp": "2025_12_02_18_46_16", "stats": {"total": 59, "pass": 52, "fail": 7, "error": 0, "skip": 0, "rate": "88.14%", "failure_details": [{"test_name": "test_OMS_Deposit_01", "status": "Fail", "type": "bug", "subtype": "assertion", "description": "\u65ad\u8a00\u5931\u8d25 (\u529f\u80fd\u7f3a\u9677)", "short_log": "ft1.5.1: 2025-12-02 18:47:32 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM oms.customer_balance WHERE deleted = '0' AND customer_id = '422' AND currency_code = 'USD'  ORDER BY id DESC LIMIT 100;\n2025-12-02 18:47:33 | INFO     | deposit_service.py | MainThread | \u5f00\u59cb\u8c03\u7528\u51fd\u6570\uff1aoms_deposit_origin\n2025-12-02 18:47:33 | INFO     | request.py | MainThread | -------------- [\ud83d\udce4] Request -----------------\n2025-12-02 18:47:33 | INFO     | request.py | MainThread | [method]: POST      [url]: https://uat.speedx.io/oms-api/balance/deposit \n2025-12-02 18:47:33 | DEBUG    | request.py | MainThread | [headers]:\n{\n  \"Content-Type\": \"application/x-www-form-urlencoded; charset=UTF-8\",\n  \"Accept\": \"application/json\",\n  \"inner-api-key\": \"85259a49-05c5-4a76-9e1c-5f543fb37352\",\n  \"Authorization\": \"Bearer 7", "key_log_info": "2025-12-02 18:47:34 | WARNING  | request.py | MainThread | unsuccessful with status 404\n2025-12-02 18:47:34 | DEBUG    | request.py | MainThread | [response]:\n\"status\": 404,\n\"error\": \"Not Found\",\nTraceback (most recent call last):\nself.assertEqual(ResponseResult.status_code, status_code, msg=msg)\nAssertionError: 404 != 200"}, {"test_name": "test_OMS_ManualAdjust_01", "status": "Fail", "type": "bug", "subtype": "assertion", "description": "\u65ad\u8a00\u5931\u8d25 (\u529f\u80fd\u7f3a\u9677)", "short_log": "ft1.8.1: 2025-12-02 18:47:57 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM oms.customer_balance WHERE deleted = '0' AND customer_id = '422' AND currency_code = 'USD'  ORDER BY id DESC LIMIT 100;\n{'amount': 10, 'businessTime': '2025-12-02T18:47:58', 'currencyCode': 'USD', 'customerId': '422', 'remark': 'auto test for manualAdjust', 'transactionType': 'MANUAL_ADD'}\n2025-12-02 18:47:58 | INFO     | manualAdjust_service.py | MainThread | \u5f00\u59cb\u8c03\u7528\u51fd\u6570\uff1aoms_manualAdjust_origin\n2025-12-02 18:47:58 | INFO     | request.py | MainThread | -------------- [\ud83d\udce4] Request -----------------\n2025-12-02 18:47:58 | INFO     | request.py | MainThread | [method]: POST      [url]: https://uat.speedx.io/oms-api/balance/manualAdjust \n2025-12-02 18:47:58 | DEBUG    | request.py | MainThread | [headers]:\n{\n  \"", "key_log_info": "2025-12-02 18:47:59 | WARNING  | request.py | MainThread | unsuccessful with status 404\n2025-12-02 18:47:59 | DEBUG    | request.py | MainThread | [response]:\n\"status\": 404,\n\"error\": \"Not Found\",\nTraceback (most recent call last):\nself.assertEqual(ResponseResult.status_code, status_code, msg=msg)\nAssertionError: 404 != 200"}, {"test_name": "test_OMS_ManualAdjust_02", "status": "Fail", "type": "bug", "subtype": "assertion", "description": "\u65ad\u8a00\u5931\u8d25 (\u529f\u80fd\u7f3a\u9677)", "short_log": "ft1.8.2: 2025-12-02 18:47:59 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM oms.customer_balance WHERE deleted = '0' AND customer_id = '422' AND currency_code = 'USD'  ORDER BY id DESC LIMIT 100;\n{'amount': 10, 'businessTime': '2025-12-02T18:48:00', 'currencyCode': 'USD', 'customerId': '422', 'remark': 'auto test for manualAdjust', 'transactionType': 'MANUAL_SUB'}\n2025-12-02 18:48:00 | INFO     | manualAdjust_service.py | MainThread | \u5f00\u59cb\u8c03\u7528\u51fd\u6570\uff1aoms_manualAdjust_origin\n2025-12-02 18:48:00 | INFO     | request.py | MainThread | -------------- [\ud83d\udce4] Request -----------------\n2025-12-02 18:48:00 | INFO     | request.py | MainThread | [method]: POST      [url]: https://uat.speedx.io/oms-api/balance/manualAdjust \n2025-12-02 18:48:00 | DEBUG    | request.py | MainThread | [headers]:\n{\n  \"", "key_log_info": "2025-12-02 18:48:00 | WARNING  | request.py | MainThread | unsuccessful with status 404\n2025-12-02 18:48:00 | DEBUG    | request.py | MainThread | [response]:\n\"status\": 404,\n\"error\": \"Not Found\",\nTraceback (most recent call last):\nself.assertEqual(ResponseResult.status_code, status_code, msg=msg)\nAssertionError: 404 != 200"}, {"test_name": "test_OMS_ModifyCreditLimit_01", "status": "Fail", "type": "bug", "subtype": "assertion", "description": "\u65ad\u8a00\u5931\u8d25 (\u529f\u80fd\u7f3a\u9677)", "short_log": "ft1.9.1: 2025-12-02 18:48:00 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM oms.customer_balance WHERE deleted = '0' AND customer_id = '422' AND currency_code = 'USD'  ORDER BY id DESC LIMIT 100;\n2025-12-02 18:48:02 | INFO     | modifyCreditLimit_service.py | MainThread | \u5f00\u59cb\u8c03\u7528\u51fd\u6570\uff1aoms_modifyCreditLimit_origin\n2025-12-02 18:48:02 | INFO     | request.py | MainThread | -------------- [\ud83d\udce4] Request -----------------\n2025-12-02 18:48:02 | INFO     | request.py | MainThread | [method]: POST      [url]: https://uat.speedx.io/oms-api/balance/modifyCreditLimit \n2025-12-02 18:48:02 | DEBUG    | request.py | MainThread | [headers]:\n{\n  \"Content-Type\": \"application/x-www-form-urlencoded; charset=UTF-8\",\n  \"Accept\": \"application/json\",\n  \"inner-api-key\": \"85259a49-05c5-4a76-9e1c-5f543fb37352\"", "key_log_info": "2025-12-02 18:48:02 | WARNING  | request.py | MainThread | unsuccessful with status 404\n2025-12-02 18:48:02 | DEBUG    | request.py | MainThread | [response]:\n\"status\": 404,\n\"error\": \"Not Found\",\nTraceback (most recent call last):\nself.assertEqual(ResponseResult.status_code, status_code, msg=msg)\nAssertionError: 404 != 200"}, {"test_name": "test_OMS_ModifyMinReserve_01", "status": "Fail", "type": "bug", "subtype": "assertion", "description": "\u65ad\u8a00\u5931\u8d25 (\u529f\u80fd\u7f3a\u9677)", "short_log": "ft1.10.1: 2025-12-02 18:48:02 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM oms.customer_balance WHERE deleted = '0' AND customer_id = '422' AND currency_code = 'USD'  ORDER BY id DESC LIMIT 100;\n2025-12-02 18:48:04 | INFO     | modifyMinReserve_service.py | MainThread | \u5f00\u59cb\u8c03\u7528\u51fd\u6570\uff1aoms_modifyMinReserve_origin\n2025-12-02 18:48:04 | INFO     | request.py | MainThread | -------------- [\ud83d\udce4] Request -----------------\n2025-12-02 18:48:04 | INFO     | request.py | MainThread | [method]: POST      [url]: https://uat.speedx.io/oms-api/balance/modifyMinReserve \n2025-12-02 18:48:04 | DEBUG    | request.py | MainThread | [headers]:\n{\n  \"Content-Type\": \"application/x-www-form-urlencoded; charset=UTF-8\",\n  \"Accept\": \"application/json\",\n  \"inner-api-key\": \"85259a49-05c5-4a76-9e1c-5f543fb37352\",", "key_log_info": "2025-12-02 18:48:04 | WARNING  | request.py | MainThread | unsuccessful with status 404\n2025-12-02 18:48:04 | DEBUG    | request.py | MainThread | [response]:\n\"status\": 404,\n\"error\": \"Not Found\",\nTraceback (most recent call last):\nself.assertEqual(ResponseResult.status_code, status_code, msg=msg)\nAssertionError: 404 != 200"}, {"test_name": "test_OMS_inboundScan_balance_01", "status": "Fail", "type": "bug", "subtype": "assertion", "description": "\u65ad\u8a00\u5931\u8d25 (\u529f\u80fd\u7f3a\u9677)", "short_log": "ft1.15.1: 2025-12-02 18:52:11 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM oms.customer_balance WHERE deleted = '0' AND customer_id = '421' AND currency_code = 'USD'  ORDER BY id DESC LIMIT 100;\n2025-12-02 18:52:13 | INFO     | batch_parentScan_service.py | MainThread | \u5f00\u59cb\u8c03\u7528\u51fd\u6570\uff1abatch_ParentScan\n2025-12-02 18:52:13 | INFO     | request.py | MainThread | -------------- [\ud83d\udce4] Request -----------------\n2025-12-02 18:52:13 | INFO     | request.py | MainThread | [method]: POST      [url]: https://uat.speedx.io/pos-exchange-api/web/inbound/parcel/parentScan \n2025-12-02 18:52:13 | DEBUG    | request.py | MainThread | [cookies]:\n{\n  \"JSESSIONID\": \"292d6807-dbb2-405c-9982-d02b0568fa7d\"\n}\n2025-12-02 18:52:13 | DEBUG    | request.py | MainThread | [json]:\n{\n  \"batchCode\": \"251202-P-SFOTEST", "key_log_info": "2025-12-02 18:52:13 | INFO     | request.py | MainThread | successful with status 200\n2025-12-02 18:52:13 | DEBUG    | request.py | MainThread | [response]:\n\"messageSound\": \"FAILURE\",\n2025-12-02 18:52:13 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_inbound_parcel WHERE status = 'OK' AND tracking_number = 'SPXLAX042104920101' AND parent_batch_code = '251202-P-SFOTEST2-2'  ORDER BY id DESC LIMIT 100;\n2025-12-02 18:52:14 | ERROR    | spx_utils.py | MainThread | Attempt 1 failed: Operation returned False\n2025-12-02 18:52:18 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_inbound_parcel WHERE status = 'OK' AND tracking_number = 'SPXLAX042104920101' AND parent_batch_code = '251202-P-SFOTEST2-2'  ORDER BY id DESC LIMIT 100;\n2025-12-02 18:52:20 | ERROR    | spx_utils.py | MainThread | Attempt 2 failed: Operation returned False\n2025-12-02 18:52:24 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_inbound_parcel WHERE status = 'OK' AND tracking_number = 'SPXLAX042104920101' AND parent_batch_code = '251202-P-SFOTEST2-2'  ORDER BY id DESC LIMIT 100;\n2025-12-02 18:52:25 | ERROR    | spx_utils.py | MainThread | Attempt 3 failed: Operation returned False\n2025-12-02 18:52:29 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_inbound_parcel WHERE status = 'OK' AND tracking_number = 'SPXLAX042104920101' AND parent_batch_code = '251202-P-SFOTEST2-2'  ORDER BY id DESC LIMIT 100;\n2025-12-02 18:52:30 | ERROR    | spx_utils.py | MainThread | Attempt 4 failed: Operation returned False\n2025-12-02 18:52:34 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_inbound_parcel WHERE status = 'OK' AND tracking_number = 'SPXLAX042104920101' AND parent_batch_code = '251202-P-SFOTEST2-2'  ORDER BY id DESC LIMIT 100;\n2025-12-02 18:52:35 | ERROR    | spx_utils.py | MainThread | Attempt 5 failed: Operation returned False\n2025-12-02 18:52:39 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_inbound_parcel WHERE status = 'OK' AND tracking_number = 'SPXLAX042104920101' AND parent_batch_code = '251202-P-SFOTEST2-2'  ORDER BY id DESC LIMIT 100;\n2025-12-02 18:52:40 | ERROR    | spx_utils.py | MainThread | Attempt 6 failed: Operation returned False\n2025-12-02 18:52:44 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_inbound_parcel WHERE status = 'OK' AND tracking_number = 'SPXLAX042104920101' AND parent_batch_code = '251202-P-SFOTEST2-2'  ORDER BY id DESC LIMIT 100;\n2025-12-02 18:52:46 | ERROR    | spx_utils.py | MainThread | Attempt 7 failed: Operation returned False\n2025-12-02 18:52:50 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_inbound_parcel WHERE status = 'OK' AND tracking_number = 'SPXLAX042104920101' AND parent_batch_code = '251202-P-SFOTEST2-2'  ORDER BY id DESC LIMIT 100;\n2025-12-02 18:52:51 | ERROR    | spx_utils.py | MainThread | Attempt 8 failed: Operation returned False\n2025-12-02 18:52:55 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_inbound_parcel WHERE status = 'OK' AND tracking_number = 'SPXLAX042104920101' AND parent_batch_code = '251202-P-SFOTEST2-2'  ORDER BY id DESC LIMIT 100;"}, {"test_name": "test_OMS_Transaction_01", "status": "Fail", "type": "bug", "subtype": "assertion", "description": "\u65ad\u8a00\u5931\u8d25 (\u529f\u80fd\u7f3a\u9677)", "short_log": "ft1.16.1: 2025-12-02 18:54:53 | INFO     | transaction_service.py | MainThread | \u5f00\u59cb\u8c03\u7528\u51fd\u6570\uff1atransaction_origin\n2025-12-02 18:54:53 | INFO     | request.py | MainThread | -------------- [\ud83d\udce4] Request -----------------\n2025-12-02 18:54:53 | INFO     | request.py | MainThread | [method]: POST      [url]: https://uat.speedx.io/oms-api/balance/transaction \n2025-12-02 18:54:53 | DEBUG    | request.py | MainThread | [headers]:\n{\n  \"Content-Type\": \"application/json\",\n  \"Accept\": \"application/json\",\n  \"inner-api-key\": \"85259a49-05c5-4a76-9e1c-5f543fb37352\",\n  \"Authorization\": \"Bearer c18201ca-c0a7-4657-8465-cb70c33c005c\",\n  \"api-key\": \"41fa44-1c8689-9bd1a5-8f62a2-1ab614\"\n}\n2025-12-02 18:54:53 | DEBUG    | request.py | MainThread | [json]:\n{\n  \"customerId\": \"422\",\n  \"currencyCode\": \"USD\",\n  \"transactionTy", "key_log_info": "2025-12-02 18:54:54 | WARNING  | request.py | MainThread | unsuccessful with status 404\n2025-12-02 18:54:54 | DEBUG    | request.py | MainThread | [response]:\n\"status\": 404,\n\"error\": \"Not Found\",\nTraceback (most recent call last):\nself.assertEqual(ResponseResult.status_code, status_code, msg=msg)\nAssertionError: 404 != 200"}]}}, "pos-admin(uat)": {"filename": "pos-admin%5Buat%5D_2025_11_28_17_18_56_result.html", "timestamp": "2025_11_28_17_18_56", "stats": {"total": 9, "pass": 9, "fail": 0, "error": 0, "skip": 0, "rate": "100.00%", "failure_details": []}}, "pos(uat)": {"filename": "pos%5Buat%5D_2025_11_28_17_20_01_result.html", "timestamp": "2025_11_28_17_20_01", "stats": {"total": 136, "pass": 120, "fail": 2, "error": 13, "skip": 1, "rate": "88.89%", "failure_details": [{"test_name": "test_container_create_scan_close_01", "status": "Error", "type": "bug", "subtype": "logic", "description": "\u4ee3\u7801\u903b\u8f91/\u7c7b\u578b\u9519\u8bef", "short_log": "et1.7.1: 2025-11-28 17:26:16 | INFO     | container_service.py | MainThread | valid_container_create - inbound_version: 2\n2025-11-28 17:26:16 | INFO     | container_service.py | MainThread | valid_container_create - \u68c0\u67e5\u8def\u7ebf\u662f\u5426\u6709\u76f8\u540c\u7684Container\n2025-11-28 17:26:16 | INFO     | http.py | MainThread | \u51fd\u6570 inbound_batch_childList \u8c03\u7528api_request, \u5c1d\u8bd5\u7b2c 1 \u6b21\n2025-11-28 17:26:16 | INFO     | request.py | MainThread | -------------- [\ud83d\udce4] Request -----------------\n2025-11-28 17:26:16 | INFO     | request.py | MainThread | [method]: GET      [url]: https://uat.speedx.io/pos-exchange-api/web/inbound/batch/childList?parentBatchCode=251128-P-SFOTEST1-1 \n2025-11-28 17:26:16 | DEBUG    | request.py | MainThread | [headers]:\n{\n  \"Content-Type\": \"application/json\",\n  \"Accept\": \"application/json\",\n  \"inner-api-key\": \"852", "key_log_info": "2025-11-28 17:26:17 | INFO     | request.py | MainThread | successful with status 200\n2025-11-28 17:26:17 | DEBUG    | request.py | MainThread | [response]:\n2025-11-28 17:26:17 | ERROR    | parcel_inboundList_service.py | MainThread | get_routeName_v2 - \u5b50\u6279\u6b21\u4e3a\u7a7a\uff0cparentBatchCode: 251128-P-SFOTEST1-1\n2025-11-28 17:26:18 | INFO     | request.py | MainThread | successful with status 200\n2025-11-28 17:26:18 | DEBUG    | request.py | MainThread | [response]:\nTraceback (most recent call last):\nraise response[\"message\"]\nTypeError: exceptions must derive from BaseException"}, {"test_name": "test_container_create_scan_close_03", "status": "Error", "type": "bug", "subtype": "logic", "description": "\u4ee3\u7801\u903b\u8f91/\u7c7b\u578b\u9519\u8bef", "short_log": "et1.7.3: 2025-11-28 17:26:19 | INFO     | container_service.py | MainThread | valid_container_create - inbound_version: 2\n2025-11-28 17:26:19 | INFO     | container_service.py | MainThread | valid_container_create - \u68c0\u67e5\u8def\u7ebf\u662f\u5426\u6709\u76f8\u540c\u7684Container\n2025-11-28 17:26:19 | INFO     | http.py | MainThread | \u51fd\u6570 inbound_batch_childList \u8c03\u7528api_request, \u5c1d\u8bd5\u7b2c 1 \u6b21\n2025-11-28 17:26:19 | INFO     | request.py | MainThread | -------------- [\ud83d\udce4] Request -----------------\n2025-11-28 17:26:19 | INFO     | request.py | MainThread | [method]: GET      [url]: https://uat.speedx.io/pos-exchange-api/web/inbound/batch/childList?parentBatchCode=251128-P-SFOTEST1-1 \n2025-11-28 17:26:19 | DEBUG    | request.py | MainThread | [headers]:\n{\n  \"Content-Type\": \"application/json\",\n  \"Accept\": \"application/json\",\n  \"inner-api-key\": \"852", "key_log_info": "2025-11-28 17:26:20 | INFO     | request.py | MainThread | successful with status 200\n2025-11-28 17:26:20 | DEBUG    | request.py | MainThread | [response]:\n2025-11-28 17:26:20 | ERROR    | parcel_inboundList_service.py | MainThread | get_routeName_v2 - \u5b50\u6279\u6b21\u4e3a\u7a7a\uff0cparentBatchCode: 251128-P-SFOTEST1-1\n2025-11-28 17:26:21 | INFO     | request.py | MainThread | successful with status 200\n2025-11-28 17:26:21 | DEBUG    | request.py | MainThread | [response]:\nTraceback (most recent call last):\nraise response[\"message\"]\nTypeError: exceptions must derive from BaseException"}, {"test_name": "test_container_create_scan_close_04", "status": "Error", "type": "bug", "subtype": "logic", "description": "\u4ee3\u7801\u903b\u8f91/\u7c7b\u578b\u9519\u8bef", "short_log": "et1.7.4: 2025-11-28 17:26:21 | INFO     | container_service.py | MainThread | valid_container_create - inbound_version: 2\n2025-11-28 17:26:21 | INFO     | container_service.py | MainThread | valid_container_create - \u68c0\u67e5\u8def\u7ebf\u662f\u5426\u6709\u76f8\u540c\u7684Container\n2025-11-28 17:26:21 | INFO     | http.py | MainThread | \u51fd\u6570 inbound_batch_childList \u8c03\u7528api_request, \u5c1d\u8bd5\u7b2c 1 \u6b21\n2025-11-28 17:26:21 | INFO     | request.py | MainThread | -------------- [\ud83d\udce4] Request -----------------\n2025-11-28 17:26:21 | INFO     | request.py | MainThread | [method]: GET      [url]: https://uat.speedx.io/pos-exchange-api/web/inbound/batch/childList?parentBatchCode=251128-P-SFOTEST1-1 \n2025-11-28 17:26:21 | DEBUG    | request.py | MainThread | [headers]:\n{\n  \"Content-Type\": \"application/json\",\n  \"Accept\": \"application/json\",\n  \"inner-api-key\": \"852", "key_log_info": "2025-11-28 17:26:22 | INFO     | request.py | MainThread | successful with status 200\n2025-11-28 17:26:22 | DEBUG    | request.py | MainThread | [response]:\n2025-11-28 17:26:22 | ERROR    | parcel_inboundList_service.py | MainThread | get_routeName_v2 - \u5b50\u6279\u6b21\u4e3a\u7a7a\uff0cparentBatchCode: 251128-P-SFOTEST1-1\n2025-11-28 17:26:23 | INFO     | request.py | MainThread | successful with status 200\n2025-11-28 17:26:23 | DEBUG    | request.py | MainThread | [response]:\nTraceback (most recent call last):\nraise response[\"message\"]\nTypeError: exceptions must derive from BaseException"}, {"test_name": "test_container_create_scan_close_05", "status": "Error", "type": "bug", "subtype": "logic", "description": "\u4ee3\u7801\u903b\u8f91/\u7c7b\u578b\u9519\u8bef", "short_log": "et1.7.5: 2025-11-28 17:26:23 | INFO     | container_service.py | MainThread | valid_container_create - inbound_version: 2\n2025-11-28 17:26:23 | INFO     | container_service.py | MainThread | valid_container_create - \u68c0\u67e5\u8def\u7ebf\u662f\u5426\u6709\u76f8\u540c\u7684Container\n2025-11-28 17:26:23 | INFO     | http.py | MainThread | \u51fd\u6570 inbound_batch_childList \u8c03\u7528api_request, \u5c1d\u8bd5\u7b2c 1 \u6b21\n2025-11-28 17:26:23 | INFO     | request.py | MainThread | -------------- [\ud83d\udce4] Request -----------------\n2025-11-28 17:26:23 | INFO     | request.py | MainThread | [method]: GET      [url]: https://uat.speedx.io/pos-exchange-api/web/inbound/batch/childList?parentBatchCode=251128-P-SFOTEST1-1 \n2025-11-28 17:26:23 | DEBUG    | request.py | MainThread | [headers]:\n{\n  \"Content-Type\": \"application/json\",\n  \"Accept\": \"application/json\",\n  \"inner-api-key\": \"852", "key_log_info": "2025-11-28 17:26:24 | INFO     | request.py | MainThread | successful with status 200\n2025-11-28 17:26:24 | DEBUG    | request.py | MainThread | [response]:\n2025-11-28 17:26:24 | ERROR    | parcel_inboundList_service.py | MainThread | get_routeName_v2 - \u5b50\u6279\u6b21\u4e3a\u7a7a\uff0cparentBatchCode: 251128-P-SFOTEST1-1\nTraceback (most recent call last):\nraise response[\"message\"]\nTypeError: exceptions must derive from BaseException"}, {"test_name": "test_container_create_01", "status": "Fail", "type": "bug", "subtype": "assertion", "description": "\u65ad\u8a00\u5931\u8d25 (\u529f\u80fd\u7f3a\u9677)", "short_log": "ft1.8.1: 2025-11-28 17:26:25 | INFO     | label_Factory_Prod.py | MainThread | \u5f00\u59cb\u751f\u6210\u6807\u7b7e...\n2025-11-28 17:26:25 | INFO     | http.py | MainThread | \u51fd\u6570 create_label_origin \u8c03\u7528api_request, \u5c1d\u8bd5\u7b2c 1 \u6b21\n2025-11-28 17:26:25 | INFO     | request.py | MainThread | -------------- [\ud83d\udce4] Request -----------------\n2025-11-28 17:26:25 | INFO     | request.py | MainThread | [method]: POST      [url]: https://uat.speedx.io/rps-api/label/create-label \n2025-11-28 17:26:25 | DEBUG    | request.py | MainThread | [headers]:\n{\n  \"Content-Type\": \"application/json\",\n  \"Accept\": \"application/json\",\n  \"inner-api-key\": \"85259a49-05c5-4a76-9e1c-5f543fb37352\",\n  \"api-key\": \"41fa44-1c8689-9bd1a5-8f62a2-1ab614\",\n  \"Authorization\": \"Bearer 46b2431d-9887-44b8-b6fa-3d0cad159e6a\"\n}\n2025-11-28 17:26:25 | DEBUG    | request.py | Main", "key_log_info": "2025-11-28 17:26:26 | INFO     | request.py | MainThread | successful with status 200\n2025-11-28 17:26:26 | DEBUG    | request.py | MainThread | [response]:\n2025-11-28 17:26:27 | INFO     | request.py | MainThread | successful with status 200\n2025-11-28 17:26:27 | DEBUG    | request.py | MainThread | [response]:\n2025-11-28 17:26:28 | INFO     | request.py | MainThread | successful with status 200\n2025-11-28 17:26:28 | DEBUG    | request.py | MainThread | [response]:\n2025-11-28 17:26:28 | INFO     | label_details_service.py | MainThread | check_label_status_GEOCODED_sfo - is_loading_pos\n\"executorRouteStrategy\": \"FAILOVER\",\n\"executorFailRetryCount\": 0,\n2025-11-28 17:26:29 | INFO     | request.py | MainThread | successful with status 200\n2025-11-28 17:26:29 | DEBUG    | request.py | MainThread | [response]:\n2025-11-28 17:26:30 | INFO     | request.py | MainThread | successful with status 200\n2025-11-28 17:26:30 | DEBUG    | request.py | MainThread | [response]:\n2025-11-28 17:26:31 | INFO     | request.py | MainThread | successful with status 200\n2025-11-28 17:26:31 | DEBUG    | request.py | MainThread | [response]:\n2025-11-28 17:26:32 | INFO     | request.py | MainThread | successful with status 200\n2025-11-28 17:26:32 | DEBUG    | request.py | MainThread | [response]:\n\"status\": \"CREATED\",\n\"exceptionStatus\": \"NONE\",\n\"exceptionList\": null,"}, {"test_name": "test_Receiving_Batch_Do_Save_01", "status": "Fail", "type": "bug", "subtype": "assertion", "description": "\u65ad\u8a00\u5931\u8d25 (\u529f\u80fd\u7f3a\u9677)", "short_log": "ft1.30.1: 2025-11-28 17:32:07 | INFO     | test_receiving_batch_do_save.py | MainThread | start Receiving_Batch_Do_Save_01\n2025-11-28 17:32:07 | INFO     | receiving_batch_do_save_service.py | MainThread | \u5f00\u59cb\u8c03\u7528\u51fd\u6570\uff1areceiving_batch_DoSave_origin\n2025-11-28 17:32:07 | INFO     | request.py | MainThread | -------------- [\ud83d\udce4] Request -----------------\n2025-11-28 17:32:07 | INFO     | request.py | MainThread | [method]: POST      [url]: https://uat.speedx.io/pos-exchange-api/web/receiving/batch/do-save \n2025-11-28 17:32:07 | DEBUG    | request.py | MainThread | [cookies]:\n{\n  \"JSESSIONID\": \"6b172927-e4ad-445a-be99-9d6e8480d93b\"\n}\n2025-11-28 17:32:07 | DEBUG    | request.py | MainThread | [json]:\n{\n  \"doCode\": \"H251128000421LAX0005\",\n  \"doType\": \"HANDOVER\",\n  \"mawb\": \"\",\n  \"remark\": \"auto-test\",", "key_log_info": "2025-11-28 17:32:10 | INFO     | request.py | MainThread | successful with status 200\n2025-11-28 17:32:10 | DEBUG    | request.py | MainThread | [response]:\n2025-11-28 17:32:11 | INFO     | request.py | MainThread | successful with status 200\n2025-11-28 17:32:11 | DEBUG    | request.py | MainThread | [response]:\nTraceback (most recent call last):\nAssertionError: 1 != 0"}, {"test_name": "test_exceptionParcel_sacn_08", "status": "Error", "type": "bug", "subtype": "runtime_error", "description": "\u8fd0\u884c\u65f6\u9519\u8bef (\u672a\u6355\u83b7\u5f02\u5e38)", "short_log": "et1.44.7: 2025-11-28 17:36:47 | INFO     | http.py | MainThread | \u51fd\u6570 exceptionParcel_sacn \u8c03\u7528api_request, \u5c1d\u8bd5\u7b2c 1 \u6b21\n2025-11-28 17:36:47 | INFO     | request.py | MainThread | -------------- [\ud83d\udce4] Request -----------------\n2025-11-28 17:36:47 | INFO     | request.py | MainThread | [method]: POST      [url]: https://uat.speedx.io/pos-exchange-api/web/exceptionParcel/scan \n2025-11-28 17:36:47 | DEBUG    | request.py | MainThread | [headers]:\n{\n  \"Content-Type\": \"application/json\",\n  \"Accept\": \"application/json\",\n  \"inner-api-key\": \"85259a49-05c5-4a76-9e1c-5f543fb37352\",\n  \"api-key\": \"41fa44-1c8689-9bd1a5-8f62a2-1ab614\",\n  \"Authorization\": \"Bearer 46b2431d-9887-44b8-b6fa-3d0cad159e6a\"\n}\n2025-11-28 17:36:47 | DEBUG    | request.py | MainThread | [cookies]:\n{\n  \"JSESSIONID\": \"a70a88ce-699e-4b4a-ab7b-", "key_log_info": "et1.44.7: 2025-11-28 17:36:47 | INFO     | http.py | MainThread | \u51fd\u6570 exceptionParcel_sacn \u8c03\u7528api_request, \u5c1d\u8bd5\u7b2c 1 \u6b21\n2025-11-28 17:36:47 | INFO     | request.py | MainThread | [method]: POST      [url]: https://uat.speedx.io/pos-exchange-api/web/exceptionParcel/scan\n2025-11-28 17:36:48 | INFO     | request.py | MainThread | successful with status 200\n2025-11-28 17:36:48 | DEBUG    | request.py | MainThread | [response]:\n2025-11-28 17:36:48 | INFO     | http.py | MainThread | curl -X POST -H 'Accept: application/json' -H 'Accept-Encoding: gzip, deflate' -H 'Authorization: Bearer 46b2431d-9887-44b8-b6fa-3d0cad159e6a' -H 'Connection: keep-alive' -H 'Content-Length: 114' -H 'Content-Type: application/json' -H 'Cookie: JSESSIONID=a70a88ce-699e-4b4a-ab7b-3bec18662c90' -H 'User-Agent: python-requests/2.28.1' -H 'api-key: 41fa44-1c8689-9bd1a5-8f62a2-1ab614' -H 'inner-api-key: 85259a49-05c5-4a76-9e1c-5f543fb37352' -d '{\"operator\": \"spx-tester\", \"trackingNumber\": \"SPXLAX042104919532\", \"eventCode\": \"59118\", \"note\": \"Tech auto test\"}' https://uat.speedx.io/pos-exchange-api/web/exceptionParcel/scan\n2025-11-28 17:36:48 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919533' AND event_code = '59118'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:36:49 | ERROR    | spx_utils.py | MainThread | Attempt 1 failed: Operation returned an empty result\n2025-11-28 17:36:53 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919533' AND event_code = '59118'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:36:54 | ERROR    | spx_utils.py | MainThread | Attempt 2 failed: Operation returned an empty result\n2025-11-28 17:36:58 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919533' AND event_code = '59118'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:36:59 | ERROR    | spx_utils.py | MainThread | Attempt 3 failed: Operation returned an empty result\n2025-11-28 17:37:03 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919533' AND event_code = '59118'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:37:05 | ERROR    | spx_utils.py | MainThread | Attempt 4 failed: Operation returned an empty result\n2025-11-28 17:37:09 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919533' AND event_code = '59118'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:37:10 | ERROR    | spx_utils.py | MainThread | Attempt 5 failed: Operation returned an empty result\n2025-11-28 17:37:14 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919533' AND event_code = '59118'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:37:15 | ERROR    | spx_utils.py | MainThread | Attempt 6 failed: Operation returned an empty result\n2025-11-28 17:37:19 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919533' AND event_code = '59118'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:37:20 | ERROR    | spx_utils.py | MainThread | Attempt 7 failed: Operation returned an empty result\n2025-11-28 17:37:24 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919533' AND event_code = '59118'  ORDER BY id DESC LIMIT 100;"}, {"test_name": "test_exceptionParcel_sacn_09", "status": "Error", "type": "bug", "subtype": "runtime_error", "description": "\u8fd0\u884c\u65f6\u9519\u8bef (\u672a\u6355\u83b7\u5f02\u5e38)", "short_log": "et1.44.8: 2025-11-28 17:37:36 | INFO     | http.py | MainThread | \u51fd\u6570 exceptionParcel_sacn \u8c03\u7528api_request, \u5c1d\u8bd5\u7b2c 1 \u6b21\n2025-11-28 17:37:36 | INFO     | request.py | MainThread | -------------- [\ud83d\udce4] Request -----------------\n2025-11-28 17:37:36 | INFO     | request.py | MainThread | [method]: POST      [url]: https://uat.speedx.io/pos-exchange-api/web/exceptionParcel/scan \n2025-11-28 17:37:36 | DEBUG    | request.py | MainThread | [headers]:\n{\n  \"Content-Type\": \"application/json\",\n  \"Accept\": \"application/json\",\n  \"inner-api-key\": \"85259a49-05c5-4a76-9e1c-5f543fb37352\",\n  \"api-key\": \"41fa44-1c8689-9bd1a5-8f62a2-1ab614\",\n  \"Authorization\": \"Bearer 46b2431d-9887-44b8-b6fa-3d0cad159e6a\"\n}\n2025-11-28 17:37:36 | DEBUG    | request.py | MainThread | [cookies]:\n{\n  \"JSESSIONID\": \"a70a88ce-699e-4b4a-ab7b-", "key_log_info": "et1.44.8: 2025-11-28 17:37:36 | INFO     | http.py | MainThread | \u51fd\u6570 exceptionParcel_sacn \u8c03\u7528api_request, \u5c1d\u8bd5\u7b2c 1 \u6b21\n2025-11-28 17:37:36 | INFO     | request.py | MainThread | [method]: POST      [url]: https://uat.speedx.io/pos-exchange-api/web/exceptionParcel/scan\n2025-11-28 17:37:37 | INFO     | request.py | MainThread | successful with status 200\n2025-11-28 17:37:37 | DEBUG    | request.py | MainThread | [response]:\n2025-11-28 17:37:37 | INFO     | http.py | MainThread | curl -X POST -H 'Accept: application/json' -H 'Accept-Encoding: gzip, deflate' -H 'Authorization: Bearer 46b2431d-9887-44b8-b6fa-3d0cad159e6a' -H 'Connection: keep-alive' -H 'Content-Length: 114' -H 'Content-Type: application/json' -H 'Cookie: JSESSIONID=a70a88ce-699e-4b4a-ab7b-3bec18662c90' -H 'User-Agent: python-requests/2.28.1' -H 'api-key: 41fa44-1c8689-9bd1a5-8f62a2-1ab614' -H 'inner-api-key: 85259a49-05c5-4a76-9e1c-5f543fb37352' -d '{\"operator\": \"spx-tester\", \"trackingNumber\": \"SPXLAX042104919533\", \"eventCode\": \"59119\", \"note\": \"Tech auto test\"}' https://uat.speedx.io/pos-exchange-api/web/exceptionParcel/scan\n2025-11-28 17:37:37 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919534' AND event_code = '59119'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:37:38 | ERROR    | spx_utils.py | MainThread | Attempt 1 failed: Operation returned an empty result\n2025-11-28 17:37:42 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919534' AND event_code = '59119'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:37:43 | ERROR    | spx_utils.py | MainThread | Attempt 2 failed: Operation returned an empty result\n2025-11-28 17:37:47 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919534' AND event_code = '59119'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:37:48 | ERROR    | spx_utils.py | MainThread | Attempt 3 failed: Operation returned an empty result\n2025-11-28 17:37:52 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919534' AND event_code = '59119'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:37:53 | ERROR    | spx_utils.py | MainThread | Attempt 4 failed: Operation returned an empty result\n2025-11-28 17:37:57 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919534' AND event_code = '59119'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:37:58 | ERROR    | spx_utils.py | MainThread | Attempt 5 failed: Operation returned an empty result\n2025-11-28 17:38:02 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919534' AND event_code = '59119'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:38:04 | ERROR    | spx_utils.py | MainThread | Attempt 6 failed: Operation returned an empty result\n2025-11-28 17:38:08 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919534' AND event_code = '59119'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:38:09 | ERROR    | spx_utils.py | MainThread | Attempt 7 failed: Operation returned an empty result\n2025-11-28 17:38:13 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919534' AND event_code = '59119'  ORDER BY id DESC LIMIT 100;"}, {"test_name": "test_exceptionParcel_sacn_10", "status": "Error", "type": "bug", "subtype": "runtime_error", "description": "\u8fd0\u884c\u65f6\u9519\u8bef (\u672a\u6355\u83b7\u5f02\u5e38)", "short_log": "et1.44.9: 2025-11-28 17:38:24 | INFO     | http.py | MainThread | \u51fd\u6570 exceptionParcel_sacn \u8c03\u7528api_request, \u5c1d\u8bd5\u7b2c 1 \u6b21\n2025-11-28 17:38:24 | INFO     | request.py | MainThread | -------------- [\ud83d\udce4] Request -----------------\n2025-11-28 17:38:24 | INFO     | request.py | MainThread | [method]: POST      [url]: https://uat.speedx.io/pos-exchange-api/web/exceptionParcel/scan \n2025-11-28 17:38:24 | DEBUG    | request.py | MainThread | [headers]:\n{\n  \"Content-Type\": \"application/json\",\n  \"Accept\": \"application/json\",\n  \"inner-api-key\": \"85259a49-05c5-4a76-9e1c-5f543fb37352\",\n  \"api-key\": \"41fa44-1c8689-9bd1a5-8f62a2-1ab614\",\n  \"Authorization\": \"Bearer 46b2431d-9887-44b8-b6fa-3d0cad159e6a\"\n}\n2025-11-28 17:38:24 | DEBUG    | request.py | MainThread | [cookies]:\n{\n  \"JSESSIONID\": \"a70a88ce-699e-4b4a-ab7b-", "key_log_info": "et1.44.9: 2025-11-28 17:38:24 | INFO     | http.py | MainThread | \u51fd\u6570 exceptionParcel_sacn \u8c03\u7528api_request, \u5c1d\u8bd5\u7b2c 1 \u6b21\n2025-11-28 17:38:24 | INFO     | request.py | MainThread | [method]: POST      [url]: https://uat.speedx.io/pos-exchange-api/web/exceptionParcel/scan\n2025-11-28 17:38:25 | INFO     | request.py | MainThread | successful with status 200\n2025-11-28 17:38:25 | DEBUG    | request.py | MainThread | [response]:\n2025-11-28 17:38:25 | INFO     | http.py | MainThread | curl -X POST -H 'Accept: application/json' -H 'Accept-Encoding: gzip, deflate' -H 'Authorization: Bearer 46b2431d-9887-44b8-b6fa-3d0cad159e6a' -H 'Connection: keep-alive' -H 'Content-Length: 114' -H 'Content-Type: application/json' -H 'Cookie: JSESSIONID=a70a88ce-699e-4b4a-ab7b-3bec18662c90' -H 'User-Agent: python-requests/2.28.1' -H 'api-key: 41fa44-1c8689-9bd1a5-8f62a2-1ab614' -H 'inner-api-key: 85259a49-05c5-4a76-9e1c-5f543fb37352' -d '{\"operator\": \"spx-tester\", \"trackingNumber\": \"SPXLAX042104919534\", \"eventCode\": \"59120\", \"note\": \"Tech auto test\"}' https://uat.speedx.io/pos-exchange-api/web/exceptionParcel/scan\n2025-11-28 17:38:25 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919535' AND event_code = '59120'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:38:26 | ERROR    | spx_utils.py | MainThread | Attempt 1 failed: Operation returned an empty result\n2025-11-28 17:38:30 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919535' AND event_code = '59120'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:38:32 | ERROR    | spx_utils.py | MainThread | Attempt 2 failed: Operation returned an empty result\n2025-11-28 17:38:36 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919535' AND event_code = '59120'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:38:37 | ERROR    | spx_utils.py | MainThread | Attempt 3 failed: Operation returned an empty result\n2025-11-28 17:38:41 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919535' AND event_code = '59120'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:38:42 | ERROR    | spx_utils.py | MainThread | Attempt 4 failed: Operation returned an empty result\n2025-11-28 17:38:46 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919535' AND event_code = '59120'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:38:47 | ERROR    | spx_utils.py | MainThread | Attempt 5 failed: Operation returned an empty result\n2025-11-28 17:38:51 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919535' AND event_code = '59120'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:38:53 | ERROR    | spx_utils.py | MainThread | Attempt 6 failed: Operation returned an empty result\n2025-11-28 17:38:57 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919535' AND event_code = '59120'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:38:58 | ERROR    | spx_utils.py | MainThread | Attempt 7 failed: Operation returned an empty result\n2025-11-28 17:39:02 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919535' AND event_code = '59120'  ORDER BY id DESC LIMIT 100;"}, {"test_name": "test_exceptionParcel_sacn_11", "status": "Error", "type": "bug", "subtype": "runtime_error", "description": "\u8fd0\u884c\u65f6\u9519\u8bef (\u672a\u6355\u83b7\u5f02\u5e38)", "short_log": "et1.44.10: 2025-11-28 17:39:13 | INFO     | http.py | MainThread | \u51fd\u6570 exceptionParcel_sacn \u8c03\u7528api_request, \u5c1d\u8bd5\u7b2c 1 \u6b21\n2025-11-28 17:39:13 | INFO     | request.py | MainThread | -------------- [\ud83d\udce4] Request -----------------\n2025-11-28 17:39:13 | INFO     | request.py | MainThread | [method]: POST      [url]: https://uat.speedx.io/pos-exchange-api/web/exceptionParcel/scan \n2025-11-28 17:39:13 | DEBUG    | request.py | MainThread | [headers]:\n{\n  \"Content-Type\": \"application/json\",\n  \"Accept\": \"application/json\",\n  \"inner-api-key\": \"85259a49-05c5-4a76-9e1c-5f543fb37352\",\n  \"api-key\": \"41fa44-1c8689-9bd1a5-8f62a2-1ab614\",\n  \"Authorization\": \"Bearer 46b2431d-9887-44b8-b6fa-3d0cad159e6a\"\n}\n2025-11-28 17:39:13 | DEBUG    | request.py | MainThread | [cookies]:\n{\n  \"JSESSIONID\": \"a70a88ce-699e-4b4a-ab7b", "key_log_info": "et1.44.10: 2025-11-28 17:39:13 | INFO     | http.py | MainThread | \u51fd\u6570 exceptionParcel_sacn \u8c03\u7528api_request, \u5c1d\u8bd5\u7b2c 1 \u6b21\n2025-11-28 17:39:13 | INFO     | request.py | MainThread | [method]: POST      [url]: https://uat.speedx.io/pos-exchange-api/web/exceptionParcel/scan\n2025-11-28 17:39:14 | INFO     | request.py | MainThread | successful with status 200\n2025-11-28 17:39:14 | DEBUG    | request.py | MainThread | [response]:\n2025-11-28 17:39:14 | INFO     | http.py | MainThread | curl -X POST -H 'Accept: application/json' -H 'Accept-Encoding: gzip, deflate' -H 'Authorization: Bearer 46b2431d-9887-44b8-b6fa-3d0cad159e6a' -H 'Connection: keep-alive' -H 'Content-Length: 114' -H 'Content-Type: application/json' -H 'Cookie: JSESSIONID=a70a88ce-699e-4b4a-ab7b-3bec18662c90' -H 'User-Agent: python-requests/2.28.1' -H 'api-key: 41fa44-1c8689-9bd1a5-8f62a2-1ab614' -H 'inner-api-key: 85259a49-05c5-4a76-9e1c-5f543fb37352' -d '{\"operator\": \"spx-tester\", \"trackingNumber\": \"SPXLAX042104919535\", \"eventCode\": \"59121\", \"note\": \"Tech auto test\"}' https://uat.speedx.io/pos-exchange-api/web/exceptionParcel/scan\n2025-11-28 17:39:14 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919536' AND event_code = '59121'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:39:15 | ERROR    | spx_utils.py | MainThread | Attempt 1 failed: Operation returned an empty result\n2025-11-28 17:39:19 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919536' AND event_code = '59121'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:39:21 | ERROR    | spx_utils.py | MainThread | Attempt 2 failed: Operation returned an empty result\n2025-11-28 17:39:25 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919536' AND event_code = '59121'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:39:26 | ERROR    | spx_utils.py | MainThread | Attempt 3 failed: Operation returned an empty result\n2025-11-28 17:39:30 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919536' AND event_code = '59121'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:39:31 | ERROR    | spx_utils.py | MainThread | Attempt 4 failed: Operation returned an empty result\n2025-11-28 17:39:35 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919536' AND event_code = '59121'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:39:36 | ERROR    | spx_utils.py | MainThread | Attempt 5 failed: Operation returned an empty result\n2025-11-28 17:39:40 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919536' AND event_code = '59121'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:39:42 | ERROR    | spx_utils.py | MainThread | Attempt 6 failed: Operation returned an empty result\n2025-11-28 17:39:46 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919536' AND event_code = '59121'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:39:47 | ERROR    | spx_utils.py | MainThread | Attempt 7 failed: Operation returned an empty result\n2025-11-28 17:39:51 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919536' AND event_code = '59121'  ORDER BY id DESC LIMIT 100;"}, {"test_name": "test_exceptionParcel_sacn_12", "status": "Error", "type": "bug", "subtype": "runtime_error", "description": "\u8fd0\u884c\u65f6\u9519\u8bef (\u672a\u6355\u83b7\u5f02\u5e38)", "short_log": "et1.44.11: 2025-11-28 17:40:02 | INFO     | http.py | MainThread | \u51fd\u6570 exceptionParcel_sacn \u8c03\u7528api_request, \u5c1d\u8bd5\u7b2c 1 \u6b21\n2025-11-28 17:40:02 | INFO     | request.py | MainThread | -------------- [\ud83d\udce4] Request -----------------\n2025-11-28 17:40:02 | INFO     | request.py | MainThread | [method]: POST      [url]: https://uat.speedx.io/pos-exchange-api/web/exceptionParcel/scan \n2025-11-28 17:40:02 | DEBUG    | request.py | MainThread | [headers]:\n{\n  \"Content-Type\": \"application/json\",\n  \"Accept\": \"application/json\",\n  \"inner-api-key\": \"85259a49-05c5-4a76-9e1c-5f543fb37352\",\n  \"api-key\": \"41fa44-1c8689-9bd1a5-8f62a2-1ab614\",\n  \"Authorization\": \"Bearer 46b2431d-9887-44b8-b6fa-3d0cad159e6a\"\n}\n2025-11-28 17:40:02 | DEBUG    | request.py | MainThread | [cookies]:\n{\n  \"JSESSIONID\": \"a70a88ce-699e-4b4a-ab7b", "key_log_info": "et1.44.11: 2025-11-28 17:40:02 | INFO     | http.py | MainThread | \u51fd\u6570 exceptionParcel_sacn \u8c03\u7528api_request, \u5c1d\u8bd5\u7b2c 1 \u6b21\n2025-11-28 17:40:02 | INFO     | request.py | MainThread | [method]: POST      [url]: https://uat.speedx.io/pos-exchange-api/web/exceptionParcel/scan\n2025-11-28 17:40:04 | INFO     | request.py | MainThread | successful with status 200\n2025-11-28 17:40:04 | DEBUG    | request.py | MainThread | [response]:\n2025-11-28 17:40:04 | INFO     | http.py | MainThread | curl -X POST -H 'Accept: application/json' -H 'Accept-Encoding: gzip, deflate' -H 'Authorization: Bearer 46b2431d-9887-44b8-b6fa-3d0cad159e6a' -H 'Connection: keep-alive' -H 'Content-Length: 114' -H 'Content-Type: application/json' -H 'Cookie: JSESSIONID=a70a88ce-699e-4b4a-ab7b-3bec18662c90' -H 'User-Agent: python-requests/2.28.1' -H 'api-key: 41fa44-1c8689-9bd1a5-8f62a2-1ab614' -H 'inner-api-key: 85259a49-05c5-4a76-9e1c-5f543fb37352' -d '{\"operator\": \"spx-tester\", \"trackingNumber\": \"SPXLAX042104919536\", \"eventCode\": \"59122\", \"note\": \"Tech auto test\"}' https://uat.speedx.io/pos-exchange-api/web/exceptionParcel/scan\n2025-11-28 17:40:04 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919537' AND event_code = '59122'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:40:05 | ERROR    | spx_utils.py | MainThread | Attempt 1 failed: Operation returned an empty result\n2025-11-28 17:40:09 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919537' AND event_code = '59122'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:40:10 | ERROR    | spx_utils.py | MainThread | Attempt 2 failed: Operation returned an empty result\n2025-11-28 17:40:14 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919537' AND event_code = '59122'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:40:15 | ERROR    | spx_utils.py | MainThread | Attempt 3 failed: Operation returned an empty result\n2025-11-28 17:40:19 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919537' AND event_code = '59122'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:40:20 | ERROR    | spx_utils.py | MainThread | Attempt 4 failed: Operation returned an empty result\n2025-11-28 17:40:24 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919537' AND event_code = '59122'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:40:25 | ERROR    | spx_utils.py | MainThread | Attempt 5 failed: Operation returned an empty result\n2025-11-28 17:40:29 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919537' AND event_code = '59122'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:40:31 | ERROR    | spx_utils.py | MainThread | Attempt 6 failed: Operation returned an empty result\n2025-11-28 17:40:35 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919537' AND event_code = '59122'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:40:36 | ERROR    | spx_utils.py | MainThread | Attempt 7 failed: Operation returned an empty result\n2025-11-28 17:40:40 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919537' AND event_code = '59122'  ORDER BY id DESC LIMIT 100;"}, {"test_name": "test_exceptionParcel_sacn_13", "status": "Error", "type": "bug", "subtype": "runtime_error", "description": "\u8fd0\u884c\u65f6\u9519\u8bef (\u672a\u6355\u83b7\u5f02\u5e38)", "short_log": "et1.44.12: 2025-11-28 17:40:51 | INFO     | http.py | MainThread | \u51fd\u6570 exceptionParcel_sacn \u8c03\u7528api_request, \u5c1d\u8bd5\u7b2c 1 \u6b21\n2025-11-28 17:40:51 | INFO     | request.py | MainThread | -------------- [\ud83d\udce4] Request -----------------\n2025-11-28 17:40:51 | INFO     | request.py | MainThread | [method]: POST      [url]: https://uat.speedx.io/pos-exchange-api/web/exceptionParcel/scan \n2025-11-28 17:40:51 | DEBUG    | request.py | MainThread | [headers]:\n{\n  \"Content-Type\": \"application/json\",\n  \"Accept\": \"application/json\",\n  \"inner-api-key\": \"85259a49-05c5-4a76-9e1c-5f543fb37352\",\n  \"api-key\": \"41fa44-1c8689-9bd1a5-8f62a2-1ab614\",\n  \"Authorization\": \"Bearer 46b2431d-9887-44b8-b6fa-3d0cad159e6a\"\n}\n2025-11-28 17:40:51 | DEBUG    | request.py | MainThread | [cookies]:\n{\n  \"JSESSIONID\": \"a70a88ce-699e-4b4a-ab7b", "key_log_info": "et1.44.12: 2025-11-28 17:40:51 | INFO     | http.py | MainThread | \u51fd\u6570 exceptionParcel_sacn \u8c03\u7528api_request, \u5c1d\u8bd5\u7b2c 1 \u6b21\n2025-11-28 17:40:51 | INFO     | request.py | MainThread | [method]: POST      [url]: https://uat.speedx.io/pos-exchange-api/web/exceptionParcel/scan\n2025-11-28 17:40:52 | INFO     | request.py | MainThread | successful with status 200\n2025-11-28 17:40:52 | DEBUG    | request.py | MainThread | [response]:\n2025-11-28 17:40:52 | INFO     | http.py | MainThread | curl -X POST -H 'Accept: application/json' -H 'Accept-Encoding: gzip, deflate' -H 'Authorization: Bearer 46b2431d-9887-44b8-b6fa-3d0cad159e6a' -H 'Connection: keep-alive' -H 'Content-Length: 114' -H 'Content-Type: application/json' -H 'Cookie: JSESSIONID=a70a88ce-699e-4b4a-ab7b-3bec18662c90' -H 'User-Agent: python-requests/2.28.1' -H 'api-key: 41fa44-1c8689-9bd1a5-8f62a2-1ab614' -H 'inner-api-key: 85259a49-05c5-4a76-9e1c-5f543fb37352' -d '{\"operator\": \"spx-tester\", \"trackingNumber\": \"SPXLAX042104919537\", \"eventCode\": \"59123\", \"note\": \"Tech auto test\"}' https://uat.speedx.io/pos-exchange-api/web/exceptionParcel/scan\n2025-11-28 17:40:52 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919538' AND event_code = '59123'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:40:53 | ERROR    | spx_utils.py | MainThread | Attempt 1 failed: Operation returned an empty result\n2025-11-28 17:40:57 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919538' AND event_code = '59123'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:40:59 | ERROR    | spx_utils.py | MainThread | Attempt 2 failed: Operation returned an empty result\n2025-11-28 17:41:03 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919538' AND event_code = '59123'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:41:04 | ERROR    | spx_utils.py | MainThread | Attempt 3 failed: Operation returned an empty result\n2025-11-28 17:41:08 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919538' AND event_code = '59123'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:41:09 | ERROR    | spx_utils.py | MainThread | Attempt 4 failed: Operation returned an empty result\n2025-11-28 17:41:13 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919538' AND event_code = '59123'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:41:14 | ERROR    | spx_utils.py | MainThread | Attempt 5 failed: Operation returned an empty result\n2025-11-28 17:41:18 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919538' AND event_code = '59123'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:41:20 | ERROR    | spx_utils.py | MainThread | Attempt 6 failed: Operation returned an empty result\n2025-11-28 17:41:24 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919538' AND event_code = '59123'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:41:25 | ERROR    | spx_utils.py | MainThread | Attempt 7 failed: Operation returned an empty result\n2025-11-28 17:41:29 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919538' AND event_code = '59123'  ORDER BY id DESC LIMIT 100;"}, {"test_name": "test_exceptionParcel_sacn_14", "status": "Error", "type": "bug", "subtype": "runtime_error", "description": "\u8fd0\u884c\u65f6\u9519\u8bef (\u672a\u6355\u83b7\u5f02\u5e38)", "short_log": "et1.44.13: 2025-11-28 17:41:40 | INFO     | http.py | MainThread | \u51fd\u6570 exceptionParcel_sacn \u8c03\u7528api_request, \u5c1d\u8bd5\u7b2c 1 \u6b21\n2025-11-28 17:41:40 | INFO     | request.py | MainThread | -------------- [\ud83d\udce4] Request -----------------\n2025-11-28 17:41:40 | INFO     | request.py | MainThread | [method]: POST      [url]: https://uat.speedx.io/pos-exchange-api/web/exceptionParcel/scan \n2025-11-28 17:41:40 | DEBUG    | request.py | MainThread | [headers]:\n{\n  \"Content-Type\": \"application/json\",\n  \"Accept\": \"application/json\",\n  \"inner-api-key\": \"85259a49-05c5-4a76-9e1c-5f543fb37352\",\n  \"api-key\": \"41fa44-1c8689-9bd1a5-8f62a2-1ab614\",\n  \"Authorization\": \"Bearer 46b2431d-9887-44b8-b6fa-3d0cad159e6a\"\n}\n2025-11-28 17:41:40 | DEBUG    | request.py | MainThread | [cookies]:\n{\n  \"JSESSIONID\": \"a70a88ce-699e-4b4a-ab7b", "key_log_info": "et1.44.13: 2025-11-28 17:41:40 | INFO     | http.py | MainThread | \u51fd\u6570 exceptionParcel_sacn \u8c03\u7528api_request, \u5c1d\u8bd5\u7b2c 1 \u6b21\n2025-11-28 17:41:40 | INFO     | request.py | MainThread | [method]: POST      [url]: https://uat.speedx.io/pos-exchange-api/web/exceptionParcel/scan\n2025-11-28 17:41:41 | INFO     | request.py | MainThread | successful with status 200\n2025-11-28 17:41:41 | DEBUG    | request.py | MainThread | [response]:\n2025-11-28 17:41:41 | INFO     | http.py | MainThread | curl -X POST -H 'Accept: application/json' -H 'Accept-Encoding: gzip, deflate' -H 'Authorization: Bearer 46b2431d-9887-44b8-b6fa-3d0cad159e6a' -H 'Connection: keep-alive' -H 'Content-Length: 114' -H 'Content-Type: application/json' -H 'Cookie: JSESSIONID=a70a88ce-699e-4b4a-ab7b-3bec18662c90' -H 'User-Agent: python-requests/2.28.1' -H 'api-key: 41fa44-1c8689-9bd1a5-8f62a2-1ab614' -H 'inner-api-key: 85259a49-05c5-4a76-9e1c-5f543fb37352' -d '{\"operator\": \"spx-tester\", \"trackingNumber\": \"SPXLAX042104919538\", \"eventCode\": \"59124\", \"note\": \"Tech auto test\"}' https://uat.speedx.io/pos-exchange-api/web/exceptionParcel/scan\n2025-11-28 17:41:41 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919539' AND event_code = '59124'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:41:42 | ERROR    | spx_utils.py | MainThread | Attempt 1 failed: Operation returned an empty result\n2025-11-28 17:41:46 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919539' AND event_code = '59124'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:41:48 | ERROR    | spx_utils.py | MainThread | Attempt 2 failed: Operation returned an empty result\n2025-11-28 17:41:52 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919539' AND event_code = '59124'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:41:53 | ERROR    | spx_utils.py | MainThread | Attempt 3 failed: Operation returned an empty result\n2025-11-28 17:41:57 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919539' AND event_code = '59124'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:41:58 | ERROR    | spx_utils.py | MainThread | Attempt 4 failed: Operation returned an empty result\n2025-11-28 17:42:02 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919539' AND event_code = '59124'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:42:03 | ERROR    | spx_utils.py | MainThread | Attempt 5 failed: Operation returned an empty result\n2025-11-28 17:42:07 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919539' AND event_code = '59124'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:42:08 | ERROR    | spx_utils.py | MainThread | Attempt 6 failed: Operation returned an empty result\n2025-11-28 17:42:12 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919539' AND event_code = '59124'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:42:14 | ERROR    | spx_utils.py | MainThread | Attempt 7 failed: Operation returned an empty result\n2025-11-28 17:42:18 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919539' AND event_code = '59124'  ORDER BY id DESC LIMIT 100;"}, {"test_name": "test_exceptionParcel_sacn_15", "status": "Error", "type": "bug", "subtype": "runtime_error", "description": "\u8fd0\u884c\u65f6\u9519\u8bef (\u672a\u6355\u83b7\u5f02\u5e38)", "short_log": "et1.44.14: 2025-11-28 17:42:29 | INFO     | http.py | MainThread | \u51fd\u6570 exceptionParcel_sacn \u8c03\u7528api_request, \u5c1d\u8bd5\u7b2c 1 \u6b21\n2025-11-28 17:42:29 | INFO     | request.py | MainThread | -------------- [\ud83d\udce4] Request -----------------\n2025-11-28 17:42:29 | INFO     | request.py | MainThread | [method]: POST      [url]: https://uat.speedx.io/pos-exchange-api/web/exceptionParcel/scan \n2025-11-28 17:42:29 | DEBUG    | request.py | MainThread | [headers]:\n{\n  \"Content-Type\": \"application/json\",\n  \"Accept\": \"application/json\",\n  \"inner-api-key\": \"85259a49-05c5-4a76-9e1c-5f543fb37352\",\n  \"api-key\": \"41fa44-1c8689-9bd1a5-8f62a2-1ab614\",\n  \"Authorization\": \"Bearer 46b2431d-9887-44b8-b6fa-3d0cad159e6a\"\n}\n2025-11-28 17:42:29 | DEBUG    | request.py | MainThread | [cookies]:\n{\n  \"JSESSIONID\": \"a70a88ce-699e-4b4a-ab7b", "key_log_info": "et1.44.14: 2025-11-28 17:42:29 | INFO     | http.py | MainThread | \u51fd\u6570 exceptionParcel_sacn \u8c03\u7528api_request, \u5c1d\u8bd5\u7b2c 1 \u6b21\n2025-11-28 17:42:29 | INFO     | request.py | MainThread | [method]: POST      [url]: https://uat.speedx.io/pos-exchange-api/web/exceptionParcel/scan\n2025-11-28 17:42:30 | INFO     | request.py | MainThread | successful with status 200\n2025-11-28 17:42:30 | DEBUG    | request.py | MainThread | [response]:\n2025-11-28 17:42:30 | INFO     | http.py | MainThread | curl -X POST -H 'Accept: application/json' -H 'Accept-Encoding: gzip, deflate' -H 'Authorization: Bearer 46b2431d-9887-44b8-b6fa-3d0cad159e6a' -H 'Connection: keep-alive' -H 'Content-Length: 114' -H 'Content-Type: application/json' -H 'Cookie: JSESSIONID=a70a88ce-699e-4b4a-ab7b-3bec18662c90' -H 'User-Agent: python-requests/2.28.1' -H 'api-key: 41fa44-1c8689-9bd1a5-8f62a2-1ab614' -H 'inner-api-key: 85259a49-05c5-4a76-9e1c-5f543fb37352' -d '{\"operator\": \"spx-tester\", \"trackingNumber\": \"SPXLAX042104919539\", \"eventCode\": \"59125\", \"note\": \"Tech auto test\"}' https://uat.speedx.io/pos-exchange-api/web/exceptionParcel/scan\n2025-11-28 17:42:30 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919540' AND event_code = '59125'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:42:32 | ERROR    | spx_utils.py | MainThread | Attempt 1 failed: Operation returned an empty result\n2025-11-28 17:42:36 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919540' AND event_code = '59125'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:42:37 | ERROR    | spx_utils.py | MainThread | Attempt 2 failed: Operation returned an empty result\n2025-11-28 17:42:41 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919540' AND event_code = '59125'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:42:42 | ERROR    | spx_utils.py | MainThread | Attempt 3 failed: Operation returned an empty result\n2025-11-28 17:42:46 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919540' AND event_code = '59125'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:42:47 | ERROR    | spx_utils.py | MainThread | Attempt 4 failed: Operation returned an empty result\n2025-11-28 17:42:51 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919540' AND event_code = '59125'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:42:52 | ERROR    | spx_utils.py | MainThread | Attempt 5 failed: Operation returned an empty result\n2025-11-28 17:42:56 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919540' AND event_code = '59125'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:42:57 | ERROR    | spx_utils.py | MainThread | Attempt 6 failed: Operation returned an empty result\n2025-11-28 17:43:01 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919540' AND event_code = '59125'  ORDER BY id DESC LIMIT 100;\n2025-11-28 17:43:03 | ERROR    | spx_utils.py | MainThread | Attempt 7 failed: Operation returned an empty result\n2025-11-28 17:43:07 | INFO     | DbHandle.py | MainThread | \u6267\u884csql\uff1aSELECT * FROM pos.pos_exception_parcel WHERE tracking_number = 'SPXLAX042104919540' AND event_code = '59125'  ORDER BY id DESC LIMIT 100;"}, {"test_name": "test_exceptionParcel_sacn_16", "status": "Error", "type": "bug", "subtype": "logic", "description": "\u4ee3\u7801\u903b\u8f91/\u7c7b\u578b\u9519\u8bef", "short_log": "et1.44.15: 2025-11-28 17:43:18 | INFO     | http.py | MainThread | \u51fd\u6570 exceptionParcel_sacn \u8c03\u7528api_request, \u5c1d\u8bd5\u7b2c 1 \u6b21\n2025-11-28 17:43:18 | INFO     | request.py | MainThread | -------------- [\ud83d\udce4] Request -----------------\n2025-11-28 17:43:18 | INFO     | request.py | MainThread | [method]: POST      [url]: https://uat.speedx.io/pos-exchange-api/web/exceptionParcel/scan \n2025-11-28 17:43:18 | DEBUG    | request.py | MainThread | [headers]:\n{\n  \"Content-Type\": \"application/json\",\n  \"Accept\": \"application/json\",\n  \"inner-api-key\": \"85259a49-05c5-4a76-9e1c-5f543fb37352\",\n  \"api-key\": \"41fa44-1c8689-9bd1a5-8f62a2-1ab614\",\n  \"Authorization\": \"Bearer 46b2431d-9887-44b8-b6fa-3d0cad159e6a\"\n}\n2025-11-28 17:43:18 | DEBUG    | request.py | MainThread | [cookies]:\n{\n  \"JSESSIONID\": \"a70a88ce-699e-4b4a-ab7b", "key_log_info": "et1.44.15: 2025-11-28 17:43:18 | INFO     | http.py | MainThread | \u51fd\u6570 exceptionParcel_sacn \u8c03\u7528api_request, \u5c1d\u8bd5\u7b2c 1 \u6b21\n2025-11-28 17:43:18 | INFO     | request.py | MainThread | [method]: POST      [url]: https://uat.speedx.io/pos-exchange-api/web/exceptionParcel/scan\n2025-11-28 17:43:19 | INFO     | request.py | MainThread | successful with status 200\n2025-11-28 17:43:19 | DEBUG    | request.py | MainThread | [response]:\n2025-11-28 17:43:19 | INFO     | http.py | MainThread | curl -X POST -H 'Accept: application/json' -H 'Accept-Encoding: gzip, deflate' -H 'Authorization: Bearer 46b2431d-9887-44b8-b6fa-3d0cad159e6a' -H 'Connection: keep-alive' -H 'Content-Length: 114' -H 'Content-Type: application/json' -H 'Cookie: JSESSIONID=a70a88ce-699e-4b4a-ab7b-3bec18662c90' -H 'User-Agent: python-requests/2.28.1' -H 'api-key: 41fa44-1c8689-9bd1a5-8f62a2-1ab614' -H 'inner-api-key: 85259a49-05c5-4a76-9e1c-5f543fb37352' -d '{\"operator\": \"spx-tester\", \"trackingNumber\": \"SPXLAX042104919540\", \"eventCode\": \"59131\", \"note\": \"Tech auto test\"}' https://uat.speedx.io/pos-exchange-api/web/exceptionParcel/scan\n2025-11-28 17:43:19 | ERROR    | spx_utils.py | MainThread | Attempt 1 failed: list index out of range\n2025-11-28 17:43:23 | ERROR    | spx_utils.py | MainThread | Attempt 2 failed: list index out of range\n2025-11-28 17:43:27 | ERROR    | spx_utils.py | MainThread | Attempt 3 failed: list index out of range\n2025-11-28 17:43:31 | ERROR    | spx_utils.py | MainThread | Attempt 4 failed: list index out of range\n2025-11-28 17:43:35 | ERROR    | spx_utils.py | MainThread | Attempt 5 failed: list index out of range\n2025-11-28 17:43:39 | ERROR    | spx_utils.py | MainThread | Attempt 6 failed: list index out of range\n2025-11-28 17:43:43 | ERROR    | spx_utils.py | MainThread | Attempt 7 failed: list index out of range\n2025-11-28 17:43:47 | ERROR    | spx_utils.py | MainThread | Attempt 8 failed: list index out of range\n2025-11-28 17:43:51 | ERROR    | spx_utils.py | MainThread | Attempt 9 failed: list index out of range\n2025-11-28 17:43:55 | ERROR    | spx_utils.py | MainThread | Attempt 10 failed: list index out of range\n2025-11-28 17:43:55 | ERROR    | spx_utils.py | MainThread | Operation failed after 10 attempts\nTraceback (most recent call last):\nFile \"/var/lib/jenkins/workspace/SpeedxSeldom@2/speedxseldom/test_dir/api/pos/testcase/test_web_exceptionParcel_sacn.py\", line 219, in test_exceptionParcel_sacn_16\ndata_list = check_data_exists(lambda: pos_exception_parcel.get_pos_exception_parcel(tracking_number=self.tracking_number_list[15],\nFile \"/var/lib/jenkins/workspace/SpeedxSeldom@2/speedxseldom/test_dir/api/pos/testcase/test_web_exceptionParcel_sacn.py\", line 219, in <lambda>"}]}}, "rps(uat)": {"filename": "rps%5Buat%5D_2025_12_04_17_13_51_result.html", "timestamp": "2025_12_04_17_13_51", "stats": {"total": 74, "pass": 67, "fail": 2, "error": 5, "skip": 0, "rate": "90.54%", "failure_details": [{"test_name": "test_pickup_create_and_cancel_01", "status": "Error", "type": "bug", "subtype": "runtime_error", "description": "\u8fd0\u884c\u65f6\u9519\u8bef (\u672a\u6355\u83b7\u5f02\u5e38)", "short_log": "et1.9.1: 2025-12-04 17:16:14 | INFO     | http.py | MainThread | \u51fd\u6570 pickup_create_origin \u8c03\u7528api_request, \u5c1d\u8bd5\u7b2c 1 \u6b21\n2025-12-04 17:16:14 | INFO     | request.py | MainThread | -------------- [\ud83d\udce4] Request -----------------\n2025-12-04 17:16:14 | INFO     | request.py | MainThread | [method]: POST      [url]: https://uat.speedx.io/rps-api/pickup/create \n2025-12-04 17:16:14 | DEBUG    | request.py | MainThread | [headers]:\n{\n  \"Content-Type\": \"application/json\",\n  \"Accept\": \"application/json\",\n  \"inner-api-key\": \"85259a49-05c5-4a76-9e1c-5f543fb37352\",\n  \"api-key\": \"1260ef-b13b77-b0d310-bc8567-feb369\",\n  \"Authorization\": \"Bearer fef4511d-e486-4f6b-9d39-739a30080fa1\"\n}\n2025-12-04 17:16:14 | DEBUG    | request.py | MainThread | [json]:\n{\n  \"pickupInfo\": {\n    \"pickUpAccountNum\": \"405\",\n    \"gndPalletQt", "key_log_info": "2025-12-04 17:16:15 | INFO     | request.py | MainThread | successful with status 200\n2025-12-04 17:16:15 | DEBUG    | request.py | MainThread | [response]:\n\"failList\": null\n2025-12-04 17:16:18 | ERROR    | spx_utils.py | MainThread | Attempt 1 failed: Operation returned an empty result\n2025-12-04 17:16:20 | ERROR    | spx_utils.py | MainThread | Attempt 2 failed: Operation returned an empty result\n2025-12-04 17:16:22 | ERROR    | spx_utils.py | MainThread | Attempt 3 failed: Operation returned an empty result\n2025-12-04 17:16:24 | ERROR    | spx_utils.py | MainThread | Attempt 4 failed: Operation returned an empty result\n2025-12-04 17:16:26 | ERROR    | spx_utils.py | MainThread | Attempt 5 failed: Operation returned an empty result\n2025-12-04 17:16:29 | ERROR    | spx_utils.py | MainThread | Attempt 6 failed: Operation returned an empty result\n2025-12-04 17:16:31 | ERROR    | spx_utils.py | MainThread | Attempt 7 failed: Operation returned an empty result\n2025-12-04 17:16:33 | ERROR    | spx_utils.py | MainThread | Attempt 8 failed: Operation returned an empty result\n2025-12-04 17:16:35 | ERROR    | spx_utils.py | MainThread | Attempt 9 failed: Operation returned an empty result\n2025-12-04 17:16:37 | ERROR    | spx_utils.py | MainThread | Attempt 10 failed: Operation returned an empty result\n2025-12-04 17:16:37 | ERROR    | spx_utils.py | MainThread | Operation failed after 10 attempts\nTraceback (most recent call last):\nraise Exception(\"Operation returned an empty result\")\nException: Operation returned an empty result"}, {"test_name": "test_pickup_create_and_cancel_02", "status": "Error", "type": "bug", "subtype": "runtime_error", "description": "\u8fd0\u884c\u65f6\u9519\u8bef (\u672a\u6355\u83b7\u5f02\u5e38)", "short_log": "et1.9.2: 2025-12-04 17:16:37 | INFO     | http.py | MainThread | \u51fd\u6570 pickup_create_origin \u8c03\u7528api_request, \u5c1d\u8bd5\u7b2c 1 \u6b21\n2025-12-04 17:16:37 | INFO     | request.py | MainThread | -------------- [\ud83d\udce4] Request -----------------\n2025-12-04 17:16:37 | INFO     | request.py | MainThread | [method]: POST      [url]: https://uat.speedx.io/rps-api/pickup/create \n2025-12-04 17:16:37 | DEBUG    | request.py | MainThread | [headers]:\n{\n  \"Content-Type\": \"application/json\",\n  \"Accept\": \"application/json\",\n  \"inner-api-key\": \"85259a49-05c5-4a76-9e1c-5f543fb37352\",\n  \"api-key\": \"1260ef-b13b77-b0d310-bc8567-feb369\",\n  \"Authorization\": \"Bearer fef4511d-e486-4f6b-9d39-739a30080fa1\"\n}\n2025-12-04 17:16:37 | DEBUG    | request.py | MainThread | [json]:\n{\n  \"pickupInfo\": {\n    \"pickUpAccountNum\": \"405\",\n    \"gndPalletQt", "key_log_info": "2025-12-04 17:16:38 | INFO     | request.py | MainThread | successful with status 200\n2025-12-04 17:16:38 | DEBUG    | request.py | MainThread | [response]:\n\"failList\": null\n2025-12-04 17:16:40 | ERROR    | spx_utils.py | MainThread | Attempt 1 failed: Operation returned an empty result\n2025-12-04 17:16:42 | ERROR    | spx_utils.py | MainThread | Attempt 2 failed: Operation returned an empty result\n2025-12-04 17:16:44 | ERROR    | spx_utils.py | MainThread | Attempt 3 failed: Operation returned an empty result\n2025-12-04 17:16:47 | ERROR    | spx_utils.py | MainThread | Attempt 4 failed: Operation returned an empty result\n2025-12-04 17:16:49 | ERROR    | spx_utils.py | MainThread | Attempt 5 failed: Operation returned an empty result\n2025-12-04 17:16:51 | ERROR    | spx_utils.py | MainThread | Attempt 6 failed: Operation returned an empty result\n2025-12-04 17:16:53 | ERROR    | spx_utils.py | MainThread | Attempt 7 failed: Operation returned an empty result\n2025-12-04 17:16:55 | ERROR    | spx_utils.py | MainThread | Attempt 8 failed: Operation returned an empty result\n2025-12-04 17:16:57 | ERROR    | spx_utils.py | MainThread | Attempt 9 failed: Operation returned an empty result\n2025-12-04 17:17:00 | ERROR    | spx_utils.py | MainThread | Attempt 10 failed: Operation returned an empty result\n2025-12-04 17:17:00 | ERROR    | spx_utils.py | MainThread | Operation failed after 10 attempts\nTraceback (most recent call last):\nraise Exception(\"Operation returned an empty result\")\nException: Operation returned an empty result"}, {"test_name": "test_pickup_create_and_cancel_03", "status": "Error", "type": "bug", "subtype": "runtime_error", "description": "\u8fd0\u884c\u65f6\u9519\u8bef (\u672a\u6355\u83b7\u5f02\u5e38)", "short_log": "et1.9.3: 2025-12-04 17:17:00 | INFO     | http.py | MainThread | \u51fd\u6570 pickup_create_origin \u8c03\u7528api_request, \u5c1d\u8bd5\u7b2c 1 \u6b21\n2025-12-04 17:17:00 | INFO     | request.py | MainThread | -------------- [\ud83d\udce4] Request -----------------\n2025-12-04 17:17:00 | INFO     | request.py | MainThread | [method]: POST      [url]: https://uat.speedx.io/rps-api/pickup/create \n2025-12-04 17:17:00 | DEBUG    | request.py | MainThread | [headers]:\n{\n  \"Content-Type\": \"application/json\",\n  \"Accept\": \"application/json\",\n  \"inner-api-key\": \"85259a49-05c5-4a76-9e1c-5f543fb37352\",\n  \"api-key\": \"1260ef-b13b77-b0d310-bc8567-feb369\",\n  \"Authorization\": \"Bearer fef4511d-e486-4f6b-9d39-739a30080fa1\"\n}\n2025-12-04 17:17:00 | DEBUG    | request.py | MainThread | [json]:\n{\n  \"pickupInfo\": {\n    \"pickUpAccountNum\": \"405\",\n    \"gndPalletQt", "key_log_info": "2025-12-04 17:17:01 | INFO     | request.py | MainThread | successful with status 200\n2025-12-04 17:17:01 | DEBUG    | request.py | MainThread | [response]:\n\"failList\": null\n2025-12-04 17:17:03 | ERROR    | spx_utils.py | MainThread | Attempt 1 failed: Operation returned an empty result\n2025-12-04 17:17:05 | ERROR    | spx_utils.py | MainThread | Attempt 2 failed: Operation returned an empty result\n2025-12-04 17:17:07 | ERROR    | spx_utils.py | MainThread | Attempt 3 failed: Operation returned an empty result\n2025-12-04 17:17:10 | ERROR    | spx_utils.py | MainThread | Attempt 4 failed: Operation returned an empty result\n2025-12-04 17:17:12 | ERROR    | spx_utils.py | MainThread | Attempt 5 failed: Operation returned an empty result\n2025-12-04 17:17:14 | ERROR    | spx_utils.py | MainThread | Attempt 6 failed: Operation returned an empty result\n2025-12-04 17:17:16 | ERROR    | spx_utils.py | MainThread | Attempt 7 failed: Operation returned an empty result\n2025-12-04 17:17:18 | ERROR    | spx_utils.py | MainThread | Attempt 8 failed: Operation returned an empty result\n2025-12-04 17:17:20 | ERROR    | spx_utils.py | MainThread | Attempt 9 failed: Operation returned an empty result\n2025-12-04 17:17:23 | ERROR    | spx_utils.py | MainThread | Attempt 10 failed: Operation returned an empty result\n2025-12-04 17:17:23 | ERROR    | spx_utils.py | MainThread | Operation failed after 10 attempts\nTraceback (most recent call last):\nraise Exception(\"Operation returned an empty result\")\nException: Operation returned an empty result"}, {"test_name": "test_pickup_create_and_cancel_04", "status": "Error", "type": "bug", "subtype": "runtime_error", "description": "\u8fd0\u884c\u65f6\u9519\u8bef (\u672a\u6355\u83b7\u5f02\u5e38)", "short_log": "et1.9.4: 2025-12-04 17:17:23 | INFO     | http.py | MainThread | \u51fd\u6570 pickup_create_origin \u8c03\u7528api_request, \u5c1d\u8bd5\u7b2c 1 \u6b21\n2025-12-04 17:17:23 | INFO     | request.py | MainThread | -------------- [\ud83d\udce4] Request -----------------\n2025-12-04 17:17:23 | INFO     | request.py | MainThread | [method]: POST      [url]: https://uat.speedx.io/rps-api/pickup/create \n2025-12-04 17:17:23 | DEBUG    | request.py | MainThread | [headers]:\n{\n  \"Content-Type\": \"application/json\",\n  \"Accept\": \"application/json\",\n  \"inner-api-key\": \"85259a49-05c5-4a76-9e1c-5f543fb37352\",\n  \"api-key\": \"1260ef-b13b77-b0d310-bc8567-feb369\",\n  \"Authorization\": \"Bearer fef4511d-e486-4f6b-9d39-739a30080fa1\"\n}\n2025-12-04 17:17:23 | DEBUG    | request.py | MainThread | [json]:\n{\n  \"pickupInfo\": {\n    \"pickUpAccountNum\": \"405\",\n    \"gndPalletQt", "key_log_info": "2025-12-04 17:17:23 | INFO     | request.py | MainThread | successful with status 200\n2025-12-04 17:17:23 | DEBUG    | request.py | MainThread | [response]:\n\"failList\": null\n2025-12-04 17:17:26 | ERROR    | spx_utils.py | MainThread | Attempt 1 failed: Operation returned an empty result\n2025-12-04 17:17:28 | ERROR    | spx_utils.py | MainThread | Attempt 2 failed: Operation returned an empty result\n2025-12-04 17:17:30 | ERROR    | spx_utils.py | MainThread | Attempt 3 failed: Operation returned an empty result\n2025-12-04 17:17:32 | ERROR    | spx_utils.py | MainThread | Attempt 4 failed: Operation returned an empty result\n2025-12-04 17:17:34 | ERROR    | spx_utils.py | MainThread | Attempt 5 failed: Operation returned an empty result\n2025-12-04 17:17:36 | ERROR    | spx_utils.py | MainThread | Attempt 6 failed: Operation returned an empty result\n2025-12-04 17:17:38 | ERROR    | spx_utils.py | MainThread | Attempt 7 failed: Operation returned an empty result\n2025-12-04 17:17:41 | ERROR    | spx_utils.py | MainThread | Attempt 8 failed: Operation returned an empty result\n2025-12-04 17:17:43 | ERROR    | spx_utils.py | MainThread | Attempt 9 failed: Operation returned an empty result\n2025-12-04 17:17:45 | ERROR    | spx_utils.py | MainThread | Attempt 10 failed: Operation returned an empty result\n2025-12-04 17:17:45 | ERROR    | spx_utils.py | MainThread | Operation failed after 10 attempts\nTraceback (most recent call last):\nraise Exception(\"Operation returned an empty result\")\nException: Operation returned an empty result"}, {"test_name": "test_pickup_create_and_cancel_06", "status": "Error", "type": "bug", "subtype": "runtime_error", "description": "\u8fd0\u884c\u65f6\u9519\u8bef (\u672a\u6355\u83b7\u5f02\u5e38)", "short_log": "et1.9.6: 2025-12-04 17:17:48 | INFO     | http.py | MainThread | \u51fd\u6570 pickup_create_origin \u8c03\u7528api_request, \u5c1d\u8bd5\u7b2c 1 \u6b21\n2025-12-04 17:17:48 | INFO     | request.py | MainThread | -------------- [\ud83d\udce4] Request -----------------\n2025-12-04 17:17:48 | INFO     | request.py | MainThread | [method]: POST      [url]: https://uat.speedx.io/rps-api/pickup/create \n2025-12-04 17:17:48 | DEBUG    | request.py | MainThread | [headers]:\n{\n  \"Content-Type\": \"application/json\",\n  \"Accept\": \"application/json\",\n  \"inner-api-key\": \"85259a49-05c5-4a76-9e1c-5f543fb37352\",\n  \"api-key\": \"1260ef-b13b77-b0d310-bc8567-feb369\",\n  \"Authorization\": \"Bearer fef4511d-e486-4f6b-9d39-739a30080fa1\"\n}\n2025-12-04 17:17:48 | DEBUG    | request.py | MainThread | [json]:\n{\n  \"pickupInfo\": {\n    \"pickUpAccountNum\": \"405\",\n    \"gndPalletQt", "key_log_info": "2025-12-04 17:17:48 | INFO     | request.py | MainThread | successful with status 200\n2025-12-04 17:17:48 | DEBUG    | request.py | MainThread | [response]:\n\"failList\": null\n2025-12-04 17:17:51 | ERROR    | spx_utils.py | MainThread | Attempt 1 failed: Operation returned an empty result\n2025-12-04 17:17:53 | ERROR    | spx_utils.py | MainThread | Attempt 2 failed: Operation returned an empty result\n2025-12-04 17:17:55 | ERROR    | spx_utils.py | MainThread | Attempt 3 failed: Operation returned an empty result\n2025-12-04 17:17:58 | ERROR    | spx_utils.py | MainThread | Attempt 4 failed: Operation returned an empty result\n2025-12-04 17:18:00 | ERROR    | spx_utils.py | MainThread | Attempt 5 failed: Operation returned an empty result\n2025-12-04 17:18:02 | ERROR    | spx_utils.py | MainThread | Attempt 6 failed: Operation returned an empty result\n2025-12-04 17:18:04 | ERROR    | spx_utils.py | MainThread | Attempt 7 failed: Operation returned an empty result\n2025-12-04 17:18:07 | ERROR    | spx_utils.py | MainThread | Attempt 8 failed: Operation returned an empty result\n2025-12-04 17:18:09 | ERROR    | spx_utils.py | MainThread | Attempt 9 failed: Operation returned an empty result\n2025-12-04 17:18:11 | ERROR    | spx_utils.py | MainThread | Attempt 10 failed: Operation returned an empty result\n2025-12-04 17:18:11 | ERROR    | spx_utils.py | MainThread | Operation failed after 10 attempts\nTraceback (most recent call last):\nraise Exception(\"Operation returned an empty result\")\nException: Operation returned an empty result"}, {"test_name": "test_tiktok_void_label_01", "status": "Fail", "type": "bug", "subtype": "assertion", "description": "\u65ad\u8a00\u5931\u8d25 (\u529f\u80fd\u7f3a\u9677)", "short_log": "ft1.15.1: 2025-12-04 17:18:56 | INFO     | tiktok_service.py | MainThread | \u5f00\u59cb\u8c03\u7528\u51fd\u6570\uff1avoid_label_origin\n2025-12-04 17:18:56 | INFO     | request.py | MainThread | -------------- [\ud83d\udce4] Request -----------------\n2025-12-04 17:18:56 | INFO     | request.py | MainThread | [method]: POST      [url]: https://uat.speedx.io/rps-api/tiktok/voidLabel?app_key=1&timestamp=1&version=1&sign=1&skipSign=true&param_json=%7B%22provider_order_id%22%3A%20%22202511261353064%22%2C%20%22tracking_no%22%3A%20%22SPXLAX061906573883%22%2C%20%22shipping_method_code%22%3A%20%22xxx%22%2C%20%22operate_type%22%3A%201%2C%20%22remark%22%3A%20%22order%20cancel%22%7D \n2025-12-04 17:18:56 | DEBUG    | request.py | MainThread | [headers]:\n{\n  \"Content-Type\": \"application/x-www-form-urlencoded; charset=UTF-8\",\n  \"Accept\": \"applicatio", "key_log_info": "2025-12-04 17:18:57 | INFO     | request.py | MainThread | successful with status 200\n2025-12-04 17:18:57 | DEBUG    | request.py | MainThread | [response]:\nTraceback (most recent call last):\nself.assertEqual(\"VOIDED\", label_sql[0][\"status\"])\nAssertionError: 'VOIDED' != 'CREATED'"}, {"test_name": "test_tiktok_void_label_02", "status": "Fail", "type": "bug", "subtype": "assertion", "description": "\u65ad\u8a00\u5931\u8d25 (\u529f\u80fd\u7f3a\u9677)", "short_log": "ft1.15.2: 2025-12-04 17:18:58 | INFO     | tiktok_service.py | MainThread | \u5f00\u59cb\u8c03\u7528\u51fd\u6570\uff1avoid_label_origin\n2025-12-04 17:18:58 | INFO     | request.py | MainThread | -------------- [\ud83d\udce4] Request -----------------\n2025-12-04 17:18:58 | INFO     | request.py | MainThread | [method]: POST      [url]: https://uat.speedx.io/rps-api/tiktok/voidLabel?app_key=1&timestamp=1&version=1&sign=1&skipSign=true&param_json=%7B%22provider_order_id%22%3A%20%22202511261353064%22%2C%20%22tracking_no%22%3A%20%22SPXLAX061906573883%22%2C%20%22shipping_method_code%22%3A%20%22xxx%22%2C%20%22operate_type%22%3A%201%2C%20%22remark%22%3A%20%22order%20cancel%22%7D \n2025-12-04 17:18:58 | DEBUG    | request.py | MainThread | [headers]:\n{\n  \"Content-Type\": \"application/x-www-form-urlencoded; charset=UTF-8\",\n  \"Accept\": \"applicatio", "key_log_info": "2025-12-04 17:18:59 | INFO     | request.py | MainThread | successful with status 200\n2025-12-04 17:18:59 | DEBUG    | request.py | MainThread | [response]:\n2025-12-04 17:19:00 | INFO     | request.py | MainThread | successful with status 200\n2025-12-04 17:19:00 | DEBUG    | request.py | MainThread | [response]:\nTraceback (most recent call last):\nself.assertEqual(\"VOIDED\", label_sql[0][\"status\"])\nAssertionError: 'VOIDED' != 'CREATED'"}]}}, "trk(uat)": {"filename": "trk%5Buat%5D_2025_12_04_17_21_05_result.html", "timestamp": "2025_12_04_17_21_05", "stats": {"total": 65, "pass": 61, "fail": 4, "error": 0, "skip": 0, "rate": "93.85%", "failure_details": [{"test_name": "test_Delete_POD_03", "status": "Fail", "type": "bug", "subtype": "assertion", "description": "\u65ad\u8a00\u5931\u8d25 (\u529f\u80fd\u7f3a\u9677)", "short_log": "ft1.2.3: 2025-12-04 17:21:18 | INFO     | request.py | MainThread | -------------- [\ud83d\udce4] Request -----------------\n2025-12-04 17:21:18 | INFO     | request.py | MainThread | [method]: POST      [url]: https://uat.speedx.io/tracking-api/pod/delete \n2025-12-04 17:21:18 | DEBUG    | request.py | MainThread | [headers]:\n{\n  \"Content-Type\": \"application/json\",\n  \"Accept\": \"application/json\",\n  \"inner-api-key\": \"85259a49-05c5-4a76-9e1c-5f543fb37352\"\n}\n2025-12-04 17:21:18 | DEBUG    | request.py | MainThread | [json]:\n{\n  \"trackingNumber\": \"\",\n  \"urls\": []\n}\n2025-12-04 17:21:19 | INFO     | request.py | MainThread | -------------- [\ud83d\udce8] Response ----------------\n2025-12-04 17:21:19 | INFO     | request.py | MainThread | successful with status 200\n2025-12-04 17:21:19 | DEBUG    | request.py | MainThre", "key_log_info": "2025-12-04 17:21:19 | INFO     | request.py | MainThread | successful with status 200\n2025-12-04 17:21:19 | DEBUG    | request.py | MainThread | [response]:\nTraceback (most recent call last):\nAssertionError: 'urls: picture url list must between 1 - 100. trackingNumber: must not be blank' != 'trackingNumber: must not be blank. urls: picture url list must between 1 - 100'"}, {"test_name": "test_Event_Internal_Insert_Event_Bulk_01", "status": "Fail", "type": "bug", "subtype": "assertion", "description": "\u65ad\u8a00\u5931\u8d25 (\u529f\u80fd\u7f3a\u9677)", "short_log": "ft1.5.1: \u5f00\u59cb\u8c03\u7528\u51fd\u6570\uff1a insert_event_bulk_origin\n2025-12-04 17:21:27 | INFO     | request.py | MainThread | -------------- [\ud83d\udce4] Request -----------------\n2025-12-04 17:21:27 | INFO     | request.py | MainThread | [method]: POST      [url]: https://uat.speedx.io/tracking-api/event/internal/insert-bulk \n2025-12-04 17:21:27 | DEBUG    | request.py | MainThread | [headers]:\n{\n  \"Content-Type\": \"application/json\",\n  \"Accept\": \"application/json\",\n  \"inner-api-key\": \"85259a49-05c5-4a76-9e1c-5f543fb37352\"\n}\n2025-12-04 17:21:27 | DEBUG    | request.py | MainThread | [json]:\n{\n  \"city\": \"Springfield Gardens\",\n  \"description\": null,\n  \"eventCode\": \"57203\",\n  \"eventTs\": \"2025-12-03T09:21:27.475Z\",\n  \"localEventTs\": null,\n  \"location\": null,\n  \"note\": null,\n  \"poe\": null,\n  \"providerCode\": \"SPX\",\n  \"providerTy", "key_log_info": "2025-12-04 17:21:28 | INFO     | request.py | MainThread | successful with status 200\n2025-12-04 17:21:28 | DEBUG    | request.py | MainThread | [response]:\nTraceback (most recent call last):\nAssertionError: '57102' != '57203'"}, {"test_name": "test_Get_POD_ByTrackingNumber_01", "status": "Fail", "type": "bug", "subtype": "assertion", "description": "\u65ad\u8a00\u5931\u8d25 (\u529f\u80fd\u7f3a\u9677)", "short_log": "ft1.12.1: 2025-12-04 17:22:07 | INFO     | http.py | MainThread | \u51fd\u6570 get_pod_by_tracking_number \u8c03\u7528api_request, \u5c1d\u8bd5\u7b2c 1 \u6b21\n2025-12-04 17:22:07 | INFO     | request.py | MainThread | -------------- [\ud83d\udce4] Request -----------------\n2025-12-04 17:22:07 | INFO     | request.py | MainThread | [method]: GET      [url]: https://uat.speedx.io/tracking-api/pod/SPXLAX042104920047 \n2025-12-04 17:22:07 | DEBUG    | request.py | MainThread | [headers]:\n{\n  \"Content-Type\": \"application/json\",\n  \"Accept\": \"application/json\",\n  \"inner-api-key\": \"85259a49-05c5-4a76-9e1c-5f543fb37352\",\n  \"api-key\": \"41fa44-1c8689-9bd1a5-8f62a2-1ab614\"\n}\n2025-12-04 17:22:08 | INFO     | request.py | MainThread | -------------- [\ud83d\udce8] Response ----------------\n2025-12-04 17:22:08 | INFO     | request.py | MainThread | successful with s", "key_log_info": "2025-12-04 17:22:08 | INFO     | request.py | MainThread | successful with status 200\n2025-12-04 17:22:08 | DEBUG    | request.py | MainThread | [response]:\nTraceback (most recent call last):\nAssertionError: 1 != 2"}, {"test_name": "test_POD_ListLabelFile_02", "status": "Fail", "type": "bug", "subtype": "assertion", "description": "\u65ad\u8a00\u5931\u8d25 (\u529f\u80fd\u7f3a\u9677)", "short_log": "ft1.25.2: 2025-12-04 17:23:56 | INFO     | http.py | MainThread | \u51fd\u6570 get_listLabelFile \u8c03\u7528api_request, \u5c1d\u8bd5\u7b2c 1 \u6b21\n2025-12-04 17:23:56 | INFO     | request.py | MainThread | -------------- [\ud83d\udce4] Request -----------------\n2025-12-04 17:23:56 | INFO     | request.py | MainThread | [method]: POST      [url]: https://uat.speedx.io/tracking-api/pod/listLabelFile \n2025-12-04 17:23:56 | DEBUG    | request.py | MainThread | [headers]:\n{\n  \"Content-Type\": \"application/json\",\n  \"Accept\": \"application/json\",\n  \"inner-api-key\": \"85259a49-05c5-4a76-9e1c-5f543fb37352\",\n  \"api-key\": \"41fa44-1c8689-9bd1a5-8f62a2-1ab614\"\n}\n2025-12-04 17:23:56 | DEBUG    | request.py | MainThread | [json]:\n{\n  \"fileType\": \"POD\",\n  \"trackingNumbers\": [\n    \"SPXONT042104920121\",\n    \"SPXONT042104920121\",\n    \"SPXONT042104920121\"\n  ]", "key_log_info": "2025-12-04 17:23:57 | INFO     | request.py | MainThread | successful with status 200\n2025-12-04 17:23:57 | DEBUG    | request.py | MainThread | [response]:\nTraceback (most recent call last):\nself.assertEqual(len(response[\"payload\"]), 3)\nAssertionError: 9 != 3"}]}}};
        const BASE_URL = "http://139.196.110.196:8001/";

        function initCharts() {
            // 1. 柱状图
            const trendChart = echarts.init(document.getElementById('trendChart'));
            const modules = Object.keys(reportData).sort();
            const rates = modules.map(m => parseFloat(reportData[m].stats.rate.replace('%','')));
            
            trendChart.setOption({
                tooltip: { trigger: 'axis' },
                grid: { left: '3%', right: '4%', bottom: '3%', containLabel: true },
                xAxis: { type: 'category', data: modules, axisLabel: { rotate: 30, interval: 0 } },
                yAxis: { type: 'value', max: 100 },
                series: [{
                    data: rates,
                    type: 'bar',
                    itemStyle: {
                        color: function(params) {
                            return params.value < 100 ? '#ff7675' : '#55efc4';
                        },
                        borderRadius: [5, 5, 0, 0]
                    },
                    label: { show: true, position: 'top', formatter: '{c}%' }
                }]
            });

            // 2. 饼图 - 失败原因
            let failureCounts = {};
            Object.values(reportData).forEach(m => {
                m.stats.failure_details.forEach(f => {
                    let key = f.description || '未知';
                    failureCounts[key] = (failureCounts[key] || 0) + 1;
                });
            });
            
            const pieData = Object.entries(failureCounts).map(([k, v]) => ({ value: v, name: k }));
            const pieChart = echarts.init(document.getElementById('failurePieChart'));
            
            if (pieData.length > 0) {
                pieChart.setOption({
                    tooltip: { trigger: 'item' },
                    legend: { bottom: '0', type: 'scroll' },
                    series: [{
                        type: 'pie',
                        radius: ['40%', '70%'],
                        avoidLabelOverlap: false,
                        itemStyle: { borderRadius: 10, borderColor: '#fff', borderWidth: 2 },
                        label: { show: false },
                        data: pieData
                    }]
                });
            } else {
                document.getElementById('failurePieChart').innerHTML = '<div class="d-flex justify-content-center align-items-center h-100 text-muted">🎉 暂无失败用例</div>';
            }
            
            window.onresize = function() {
                trendChart.resize();
                pieChart.resize();
            };
        }

        function renderTable(filterText = '') {
            const tbody = document.getElementById('reportTableBody');
            tbody.innerHTML = '';
            
            const sortedKeys = Object.keys(reportData).sort();
            
            sortedKeys.forEach(key => {
                if (filterText && !key.toLowerCase().includes(filterText.toLowerCase())) return;
                
                const item = reportData[key];
                const stats = item.stats;
                const rateVal = parseFloat(stats.rate.replace('%', ''));
                
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td class="ps-4 fw-bold">${key}</td>
                    <td class="text-muted small">${item.timestamp.replace(/_/g, ':')}</td>
                    <td class="text-center fw-bold">${stats.total}</td>
                    <td class="text-center text-success">${stats.pass}</td>
                    <td class="text-center ${stats.fail > 0 ? 'text-danger fw-bold' : 'text-muted'}">${stats.fail}</td>
                    <td class="text-center ${stats.error > 0 ? 'text-warning fw-bold' : 'text-muted'}">${stats.error}</td>
                    <td class="text-center">
                        <span class="${rateVal === 100 ? 'pass-badge' : 'fail-badge'}">${stats.rate}</span>
                    </td>
                    <td><a href="${BASE_URL}${item.filename}" target="_blank" class="btn btn-sm btn-outline-primary"><i class="bi bi-link-45deg"></i> 原始报告</a></td>
                    <td>
                        ${(stats.fail > 0 || stats.error > 0) ? 
                        `<button class="btn btn-sm btn-danger" onclick="showFailures('${key}')"><i class="bi bi-search"></i> 分析</button>` 
                        : '<span class="text-muted">-</span>'}
                    </td>
                `;
                tbody.appendChild(tr);
            });
        }

        function highlightKeyInfo(logText) {
            if (!logText) return "";
            
            // 定义需要高亮的关键字模式
            const keyPatterns = [
                /(ERROR|Error|error)/g,
                /(FAIL|Fail|fail)/g,
                /(Exception|exception)/g,
                /(Traceback)/g,
                /(AssertionError)/g,
                /(失败)/g,
                /(断言)/g
            ];
            
            let highlightedLog = logText;
            keyPatterns.forEach(pattern => {
                highlightedLog = highlightedLog.replace(pattern, '<span class="key-log-line">$&</span>');
            });
            
            return highlightedLog;
        }

        function showFailures(moduleName) {
            const details = reportData[moduleName].stats.failure_details;
            const modalBody = document.getElementById('modalContent');
            
            if (!details || details.length === 0) {
                modalBody.innerHTML = '<p class="text-muted">没有详细的失败信息提取。</p>';
            } else {
                let html = '<div class="accordion" id="failAccordion">';
                details.forEach((d, index) => {
                    let badgeClass = 'bg-secondary';
                    if (d.type === 'bug') badgeClass = 'bg-danger';
                    if (d.type === 'environment') badgeClass = 'bg-warning text-dark';
                    if (d.type === 'ui_error') badgeClass = 'bg-info text-dark';
                    
                    let statusBadge = d.status === 'Error' 
                        ? '<span class="badge bg-danger me-2">Error</span>' 
                        : '<span class="badge bg-warning text-dark me-2">Fail</span>';

                    // 使用提取的关键日志信息
                    let displayLog = d.key_log_info || d.short_log || '无详细日志';

                    html += `
                        <div class="accordion-item">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse${index}">
                                    ${statusBadge}
                                    <span class="badge ${badgeClass} me-2">${d.description}</span>
                                    ${d.test_name}
                                </button>
                            </h2>
                            <div id="collapse${index}" class="accordion-collapse collapse" data-bs-parent="#failAccordion">
                                <div class="accordion-body">
                                    <p><strong>状态:</strong> ${d.status} | <strong>失败类型:</strong> ${d.subtype}</p>
                                    ${displayLog ? `<div class="log-preview" style="display:block"><pre>${highlightKeyInfo(displayLog)}</pre></div>` : '<p class="text-muted">无详细日志</p>'}
                                    <button class="btn btn-sm btn-outline-secondary mt-2" onclick="toggleFullLog(this, ${index})">显示完整日志</button>
                                    <div id="fullLog${index}" class="log-preview mt-2" style="display:none"><pre>${d.short_log || '无完整日志'}</pre></div>
                                </div>
                            </div>
                        </div>
                    `;
                });
                html += '</div>';
                modalBody.innerHTML = html;
            }
            
            new bootstrap.Modal(document.getElementById('failureModal')).show();
        }

        function toggleFullLog(button, index) {
            const fullLogDiv = document.getElementById(`fullLog${index}`);
            if (fullLogDiv.style.display === 'none') {
                fullLogDiv.style.display = 'block';
                button.textContent = '隐藏完整日志';
            } else {
                fullLogDiv.style.display = 'none';
                button.textContent = '显示完整日志';
            }
        }

        document.getElementById('searchInput').addEventListener('input', (e) => {
            renderTable(e.target.value);
        });

        initCharts();
        renderTable();

    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>